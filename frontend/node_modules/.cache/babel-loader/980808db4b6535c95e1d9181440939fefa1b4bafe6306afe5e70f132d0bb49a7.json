{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationForm({\n  setReservation\n}) {\n  _s();\n  // Główne stany\n  const [startDT, setStartDT] = useState(\"\"); // \"YYYY-MM-DDTHH:mm\" (źródło prawdy)\n  const [minutes, setMinutes] = useState(120); // 30..300\n  const [tableNumber, setTableNumber] = useState(\"\");\n  const [availableTables, setAvailableTables] = useState([]);\n  const [formError, setFormError] = useState(\"\");\n  const navigate = useNavigate();\n  const API = useMemo(() => process.env.REACT_APP_API_URL || \"http://localhost:8080\", []);\n\n  // Reguły biznesowe\n  const MIN_MIN = 30;\n  const MAX_MIN = 300;\n  const CLOSING_HOUR = 22; // max do 22:00\n\n  // helpers\n  const pad = n => n < 10 ? \"0\" + n : \"\" + n;\n  const toIsoWithSeconds = d => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\n  const parseLocalDateTime = value => value ? new Date(value + \":00\") : null;\n  const combineDateTime = (dateStr, hmStr) => {\n    if (!dateStr || !hmStr) return \"\";\n    return `${dateStr}T${hmStr}`;\n  };\n\n  // Startowy „min” dla datetime-local (i daty)\n  const nowLocalForMin = useMemo(() => {\n    const d = new Date();\n    d.setSeconds(0, 0);\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}`;\n  }, []);\n  const todayDateStr = useMemo(() => nowLocalForMin.split(\"T\")[0], [nowLocalForMin]);\n\n  // Z „startDT” wyciągamy części do UI\n  const startDatePart = startDT ? startDT.split(\"T\")[0] : \"\";\n  const startTimePart = startDT ? startDT.split(\"T\")[1] : \"\";\n\n  // max dopuszczalna długość tak, by koniec nie przekroczył 22:00 tego samego dnia\n  const maxMinutesForStart = start => {\n    if (!start) return MAX_MIN;\n    const latestEnd = new Date(start);\n    latestEnd.setHours(CLOSING_HOUR, 0, 0, 0); // 22:00\n    const diff = Math.floor((latestEnd.getTime() - start.getTime()) / 60000);\n    if (diff <= 0) return 0;\n    return Math.min(MAX_MIN, diff);\n    // (opcje > diff zostaną wyłączone)\n  };\n\n  // Lista opcji czasu co 30 minut (00:00..22:00)\n  const timeOptions = useMemo(() => {\n    const opts = [];\n    for (let h = 0; h <= CLOSING_HOUR; h++) {\n      for (let m = 0; m < 60; m += 30) {\n        // 22:30 już nie pokazujemy (po 22:00)\n        if (h === CLOSING_HOUR && m > 0) continue;\n        opts.push(`${pad(h)}:${pad(m)}`);\n      }\n    }\n    return opts;\n  }, []);\n\n  // Fetch dostępnych stolików po zmianie startDT/minutes\n  useEffect(() => {\n    const fetchAvailable = async () => {\n      setFormError(\"\");\n      if (!startDT || !minutes) {\n        setAvailableTables([]);\n        return;\n      }\n      const start = parseLocalDateTime(startDT);\n      if (!start) return;\n      const maxAllowed = maxMinutesForStart(start);\n      if (maxAllowed < MIN_MIN) {\n        setAvailableTables([]);\n        return;\n      }\n      const startISO = toIsoWithSeconds(start);\n      try {\n        const res = await fetch(`${API}/api/reservations/available?start=${encodeURIComponent(startISO)}&minutes=${minutes}`, {\n          credentials: \"include\"\n        });\n        if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n        const data = await res.json();\n        setAvailableTables(Array.isArray(data) ? data : []);\n      } catch (e) {\n        console.error(e);\n        setAvailableTables([]);\n      }\n    };\n    fetchAvailable();\n  }, [startDT, minutes, API]);\n\n  // Jeśli wybrany stolik zniknie z listy — wyczyść\n  useEffect(() => {\n    if (!tableNumber) return;\n    const stillAvailable = availableTables.some(t => String(t.tableNumber) === String(tableNumber));\n    if (!stillAvailable) setTableNumber(\"\");\n  }, [tableNumber, availableTables]);\n\n  // Render opcji długości (nielegalne wyłączone)\n  const renderDurationOptions = () => {\n    const start = parseLocalDateTime(startDT);\n    const maxAllowed = maxMinutesForStart(start);\n    const items = [];\n    for (let m = MIN_MIN; m <= MAX_MIN; m += 30) {\n      const disabled = start && m > maxAllowed;\n      const label = m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n      items.push(/*#__PURE__*/_jsxDEV(\"option\", {\n        value: m,\n        disabled: disabled,\n        children: [label, disabled ? \" (bis 22:00 Uhr)\" : \"\"]\n      }, m, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this));\n    }\n    return items;\n  };\n\n  // Submit\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormError(\"\");\n    if (!startDT) return setFormError(\"Bitte Datum und Uhrzeit wählen.\");\n    const start = parseLocalDateTime(startDT);\n    if (!start) return setFormError(\"Ungültiges Datum/Uhrzeit.\");\n    if (start < new Date()) return setFormError(\"Reservierungen in der Vergangenheit sind nicht möglich.\");\n    if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN) return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n    const maxAllowed = maxMinutesForStart(start);\n    if (minutes > maxAllowed) {\n      if (maxAllowed < MIN_MIN) {\n        return setFormError(\"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\");\n      }\n      return setFormError(`Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`);\n    }\n    if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n    const end = new Date(start.getTime() + minutes * 60000);\n    const payload = {\n      tableNumber: Number(tableNumber),\n      startTime: toIsoWithSeconds(start),\n      endTime: toIsoWithSeconds(end)\n    };\n    try {\n      const resp = await fetch(`${API}/api/reservations`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      });\n      const txt = await resp.text();\n      if (!resp.ok) {\n        throw new Error(txt || \"Reservierung fehlgeschlagen – bitte versuchen Sie es erneut.\");\n      }\n      const data = txt ? JSON.parse(txt) : null;\n      setReservation([data]);\n      navigate(\"/reservations/my\");\n    } catch (err) {\n      console.error(err);\n      setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n    }\n  };\n\n  // Widok — UWAGA: zostawiamy #startTime, żeby testy Cypress dalej mogły w niego .type()\n  // Jest ukryty, ale reaguje na wpisywanie (aktualizujemy startDT).\n  const endPreview = startDT && minutes ? new Date(parseLocalDateTime(startDT).getTime() + minutes * 60000) : null;\n  const maxAllowedForHint = maxMinutesForStart(parseLocalDateTime(startDT));\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"reservation-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startTime\",\n      type: \"datetime-local\",\n      style: {\n        position: \"absolute\",\n        left: \"-9999px\",\n        width: 0,\n        height: 0\n      },\n      value: startDT,\n      min: nowLocalForMin,\n      onChange: e => {\n        setStartDT(e.target.value);\n        setFormError(\"\");\n      },\n      \"aria-hidden\": \"true\",\n      tabIndex: -1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"startDate\",\n      style: {\n        display: \"block\",\n        marginBottom: 4\n      },\n      children: \"Datum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startDate\",\n      type: \"date\",\n      value: startDatePart,\n      min: todayDateStr,\n      onChange: e => {\n        const newDate = e.target.value;\n        const hm = startTimePart || \"18:00\";\n        setStartDT(combineDateTime(newDate, hm));\n        setFormError(\"\");\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"startTimeHM\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Uhrzeit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"startTimeHM\",\n      value: startTimePart || \"\",\n      onChange: e => {\n        const hm = e.target.value;\n        const d = startDatePart || todayDateStr;\n        setStartDT(combineDateTime(d, hm));\n        setFormError(\"\");\n      },\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"Uhrzeit w\\xE4hlen\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), timeOptions.map(hm => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: hm,\n        children: hm\n      }, hm, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 4,\n        color: \"#555\"\n      },\n      children: [\"Reservierungen sind nur bis \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"22:00 Uhr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 45\n      }, this), \" am selben Tag m\\xF6glich.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"duration\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Dauer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"duration\",\n      value: minutes,\n      onChange: e => {\n        setMinutes(Number(e.target.value));\n        setFormError(\"\");\n      },\n      required: true,\n      children: renderDurationOptions()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"tableNumber\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Tisch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"tableNumber\",\n      value: tableNumber,\n      onChange: e => setTableNumber(e.target.value),\n      required: true,\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Tisch ausw\\xE4hlen\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), availableTables.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t.tableNumber,\n        children: [\"Tisch \", t.tableNumber, \" (\", t.numberOfSeats, \" Pers.)\"]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }, this), endPreview && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 6,\n        color: \"#555\"\n      },\n      children: [\"Ende:\", \" \", endPreview.toLocaleTimeString(\"de-DE\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }), \" \", \"(sp\\xE4testens 22:00 Uhr)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-cy\": \"form-error\",\n      style: {\n        color: \"#c62828\",\n        marginTop: 10\n      },\n      children: formError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginTop: 12\n      },\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: \"Reservieren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationForm, \"g6xoigDQRZ1g2NZLpAyDdS3PGRI=\", false, function () {\n  return [useNavigate];\n});\n_c = ReservationForm;\nexport default ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["useState","useEffect","useMemo","useNavigate","jsxDEV","_jsxDEV","ReservationForm","setReservation","_s","startDT","setStartDT","minutes","setMinutes","tableNumber","setTableNumber","availableTables","setAvailableTables","formError","setFormError","navigate","API","process","env","REACT_APP_API_URL","MIN_MIN","MAX_MIN","CLOSING_HOUR","pad","n","toIsoWithSeconds","d","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","parseLocalDateTime","value","Date","combineDateTime","dateStr","hmStr","nowLocalForMin","setSeconds","todayDateStr","split","startDatePart","startTimePart","maxMinutesForStart","start","latestEnd","setHours","diff","Math","floor","getTime","min","timeOptions","opts","h","m","push","fetchAvailable","maxAllowed","startISO","res","fetch","encodeURIComponent","credentials","ok","Error","data","json","Array","isArray","e","console","error","stillAvailable","some","t","String","renderDurationOptions","items","disabled","label","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","preventDefault","end","payload","Number","startTime","endTime","resp","method","headers","body","JSON","stringify","txt","text","parse","err","message","endPreview","maxAllowedForHint","onSubmit","className","id","type","style","position","left","width","height","onChange","target","tabIndex","htmlFor","display","marginBottom","newDate","hm","required","margin","map","marginTop","color","numberOfSeats","toLocaleTimeString","hour","minute","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ReservationForm({ setReservation }) {\n    // Główne stany\n    const [startDT, setStartDT] = useState(\"\");     // \"YYYY-MM-DDTHH:mm\" (źródło prawdy)\n    const [minutes, setMinutes] = useState(120);    // 30..300\n    const [tableNumber, setTableNumber] = useState(\"\");\n    const [availableTables, setAvailableTables] = useState([]);\n    const [formError, setFormError] = useState(\"\");\n\n    const navigate = useNavigate();\n    const API = useMemo(\n        () => process.env.REACT_APP_API_URL || \"http://localhost:8080\",\n        []\n    );\n\n    // Reguły biznesowe\n    const MIN_MIN = 30;\n    const MAX_MIN = 300;\n    const CLOSING_HOUR = 22; // max do 22:00\n\n    // helpers\n    const pad = (n) => (n < 10 ? \"0\" + n : \"\" + n);\n    const toIsoWithSeconds = (d) =>\n        `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(\n            d.getHours()\n        )}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\n\n    const parseLocalDateTime = (value) => (value ? new Date(value + \":00\") : null);\n\n    const combineDateTime = (dateStr, hmStr) => {\n        if (!dateStr || !hmStr) return \"\";\n        return `${dateStr}T${hmStr}`;\n    };\n\n    // Startowy „min” dla datetime-local (i daty)\n    const nowLocalForMin = useMemo(() => {\n        const d = new Date();\n        d.setSeconds(0, 0);\n        return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(\n            d.getDate()\n        )}T${pad(d.getHours())}:${pad(d.getMinutes())}`;\n    }, []);\n\n    const todayDateStr = useMemo(() => nowLocalForMin.split(\"T\")[0], [nowLocalForMin]);\n\n    // Z „startDT” wyciągamy części do UI\n    const startDatePart = startDT ? startDT.split(\"T\")[0] : \"\";\n    const startTimePart = startDT ? startDT.split(\"T\")[1] : \"\";\n\n    // max dopuszczalna długość tak, by koniec nie przekroczył 22:00 tego samego dnia\n    const maxMinutesForStart = (start) => {\n        if (!start) return MAX_MIN;\n        const latestEnd = new Date(start);\n        latestEnd.setHours(CLOSING_HOUR, 0, 0, 0); // 22:00\n        const diff = Math.floor((latestEnd.getTime() - start.getTime()) / 60000);\n        if (diff <= 0) return 0;\n        return Math.min(MAX_MIN, diff);\n        // (opcje > diff zostaną wyłączone)\n    };\n\n    // Lista opcji czasu co 30 minut (00:00..22:00)\n    const timeOptions = useMemo(() => {\n        const opts = [];\n        for (let h = 0; h <= CLOSING_HOUR; h++) {\n            for (let m = 0; m < 60; m += 30) {\n                // 22:30 już nie pokazujemy (po 22:00)\n                if (h === CLOSING_HOUR && m > 0) continue;\n                opts.push(`${pad(h)}:${pad(m)}`);\n            }\n        }\n        return opts;\n    }, []);\n\n    // Fetch dostępnych stolików po zmianie startDT/minutes\n    useEffect(() => {\n        const fetchAvailable = async () => {\n            setFormError(\"\");\n            if (!startDT || !minutes) {\n                setAvailableTables([]);\n                return;\n            }\n\n            const start = parseLocalDateTime(startDT);\n            if (!start) return;\n\n            const maxAllowed = maxMinutesForStart(start);\n            if (maxAllowed < MIN_MIN) {\n                setAvailableTables([]);\n                return;\n            }\n\n            const startISO = toIsoWithSeconds(start);\n\n            try {\n                const res = await fetch(\n                    `${API}/api/reservations/available?start=${encodeURIComponent(\n                        startISO\n                    )}&minutes=${minutes}`,\n                    { credentials: \"include\" }\n                );\n                if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n                const data = await res.json();\n                setAvailableTables(Array.isArray(data) ? data : []);\n            } catch (e) {\n                console.error(e);\n                setAvailableTables([]);\n            }\n        };\n\n        fetchAvailable();\n    }, [startDT, minutes, API]);\n\n    // Jeśli wybrany stolik zniknie z listy — wyczyść\n    useEffect(() => {\n        if (!tableNumber) return;\n        const stillAvailable = availableTables.some(\n            (t) => String(t.tableNumber) === String(tableNumber)\n        );\n        if (!stillAvailable) setTableNumber(\"\");\n    }, [tableNumber, availableTables]);\n\n    // Render opcji długości (nielegalne wyłączone)\n    const renderDurationOptions = () => {\n        const start = parseLocalDateTime(startDT);\n        const maxAllowed = maxMinutesForStart(start);\n        const items = [];\n        for (let m = MIN_MIN; m <= MAX_MIN; m += 30) {\n            const disabled = start && m > maxAllowed;\n            const label =\n                m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n            items.push(\n                <option key={m} value={m} disabled={disabled}>\n                    {label}\n                    {disabled ? \" (bis 22:00 Uhr)\" : \"\"}\n                </option>\n            );\n        }\n        return items;\n    };\n\n    // Submit\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setFormError(\"\");\n\n        if (!startDT) return setFormError(\"Bitte Datum und Uhrzeit wählen.\");\n\n        const start = parseLocalDateTime(startDT);\n        if (!start) return setFormError(\"Ungültiges Datum/Uhrzeit.\");\n        if (start < new Date())\n            return setFormError(\"Reservierungen in der Vergangenheit sind nicht möglich.\");\n\n        if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN)\n            return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n\n        const maxAllowed = maxMinutesForStart(start);\n        if (minutes > maxAllowed) {\n            if (maxAllowed < MIN_MIN) {\n                return setFormError(\n                    \"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\"\n                );\n            }\n            return setFormError(\n                `Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`\n            );\n        }\n\n        if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n\n        const end = new Date(start.getTime() + minutes * 60000);\n\n        const payload = {\n            tableNumber: Number(tableNumber),\n            startTime: toIsoWithSeconds(start),\n            endTime: toIsoWithSeconds(end),\n        };\n\n        try {\n            const resp = await fetch(`${API}/api/reservations`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify(payload),\n            });\n\n            const txt = await resp.text();\n            if (!resp.ok) {\n                throw new Error(txt || \"Reservierung fehlgeschlagen – bitte versuchen Sie es erneut.\");\n            }\n\n            const data = txt ? JSON.parse(txt) : null;\n            setReservation([data]);\n            navigate(\"/reservations/my\");\n        } catch (err) {\n            console.error(err);\n            setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n        }\n    };\n\n    // Widok — UWAGA: zostawiamy #startTime, żeby testy Cypress dalej mogły w niego .type()\n    // Jest ukryty, ale reaguje na wpisywanie (aktualizujemy startDT).\n    const endPreview =\n        startDT && minutes ? new Date(parseLocalDateTime(startDT).getTime() + minutes * 60000) : null;\n    const maxAllowedForHint = maxMinutesForStart(parseLocalDateTime(startDT));\n\n    return (\n        <form onSubmit={handleSubmit} className=\"reservation-form\">\n            {/* HIDDEN: kompatybilność z testami */}\n            <input\n                id=\"startTime\"\n                type=\"datetime-local\"\n                style={{ position: \"absolute\", left: \"-9999px\", width: 0, height: 0 }}\n                value={startDT}\n                min={nowLocalForMin}\n                onChange={(e) => {\n                    setStartDT(e.target.value);\n                    setFormError(\"\");\n                }}\n                aria-hidden=\"true\"\n                tabIndex={-1}\n            />\n\n            {/* Data */}\n            <label htmlFor=\"startDate\" style={{ display: \"block\", marginBottom: 4 }}>\n                Datum\n            </label>\n            <input\n                id=\"startDate\"\n                type=\"date\"\n                value={startDatePart}\n                min={todayDateStr}\n                onChange={(e) => {\n                    const newDate = e.target.value;\n                    const hm = startTimePart || \"18:00\";\n                    setStartDT(combineDateTime(newDate, hm));\n                    setFormError(\"\");\n                }}\n                required\n            />\n\n            {/* Czas (HH:mm co 30 min) */}\n            <label htmlFor=\"startTimeHM\" style={{ display: \"block\", margin: \"12px 0 4px\" }}>\n                Uhrzeit\n            </label>\n            <select\n                id=\"startTimeHM\"\n                value={startTimePart || \"\"}\n                onChange={(e) => {\n                    const hm = e.target.value;\n                    const d = startDatePart || todayDateStr;\n                    setStartDT(combineDateTime(d, hm));\n                    setFormError(\"\");\n                }}\n                required\n            >\n                <option value=\"\" disabled>\n                    Uhrzeit wählen…\n                </option>\n                {timeOptions.map((hm) => (\n                    <option key={hm} value={hm}>\n                        {hm}\n                    </option>\n                ))}\n            </select>\n            <small style={{ display: \"block\", marginTop: 4, color: \"#555\" }}>\n                Reservierungen sind nur bis <strong>22:00 Uhr</strong> am selben Tag möglich.\n            </small>\n\n            {/* Dauer */}\n            <label htmlFor=\"duration\" style={{ display: \"block\", margin: \"12px 0 4px\" }}>\n                Dauer\n            </label>\n            <select\n                id=\"duration\"\n                value={minutes}\n                onChange={(e) => {\n                    setMinutes(Number(e.target.value));\n                    setFormError(\"\");\n                }}\n                required\n            >\n                {renderDurationOptions()}\n            </select>\n\n            {/* Tischauswahl */}\n            <label htmlFor=\"tableNumber\" style={{ display: \"block\", margin: \"12px 0 4px\" }}>\n                Tisch\n            </label>\n            <select\n                id=\"tableNumber\"\n                value={tableNumber}\n                onChange={(e) => setTableNumber(e.target.value)}\n                required\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                <option value=\"\">Tisch auswählen…</option>\n                {availableTables.map((t) => (\n                    <option key={t.id} value={t.tableNumber}>\n                        Tisch {t.tableNumber} ({t.numberOfSeats} Pers.)\n                    </option>\n                ))}\n            </select>\n\n            {/* Podgląd końca */}\n            {endPreview && (\n                <small style={{ display: \"block\", marginTop: 6, color: \"#555\" }}>\n                    Ende:{\" \"}\n                    {endPreview.toLocaleTimeString(\"de-DE\", { hour: \"2-digit\", minute: \"2-digit\" })}{\" \"}\n                    (spätestens 22:00 Uhr)\n                </small>\n            )}\n\n            {/* Błędy (data-cy zgodne z testami) */}\n            {formError && (\n                <p data-cy=\"form-error\" style={{ color: \"#c62828\", marginTop: 10 }}>\n                    {formError}\n                </p>\n            )}\n\n            <button\n                type=\"submit\"\n                style={{ marginTop: 12 }}\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                Reservieren\n            </button>\n        </form>\n    );\n}\n\nexport default ReservationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}