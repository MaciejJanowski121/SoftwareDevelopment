{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ChangePassword.jsx\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"../styles/changepassword.css\";\n\n/**\n * Komponente zum Ändern des Benutzerpassworts.\n *\n * <p>Diese Komponente stellt ein Formular bereit, mit dem ein:e eingeloggte:r Benutzer:in\n * das eigene Passwort ändern kann. Die Anfrage wird über die Fetch-API\n * an das Spring-Boot-Backend gesendet (<code>/user/change-password</code>).</p>\n *\n * <ul>\n *   <li>Das Formular enthält zwei Eingabefelder: altes und neues Passwort.</li>\n *   <li>Nach erfolgreicher Änderung wird der Benutzer automatisch zur „Mein Konto“-Seite weitergeleitet.</li>\n *   <li>Bei einem Fehler wird eine Meldung in der Konsole ausgegeben.</li>\n * </ul>\n *\n * @component\n * @returns {JSX.Element} Die React-Komponente für die Passwortänderung\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChangePassword() {\n  _s();\n  const navigate = useNavigate();\n\n  /** Zustand für das alte Passwort */\n  const [oldPassword, setOldPassword] = useState(\"\");\n\n  /** Zustand für das neue Passwort */\n  const [newPassword, setNewPassword] = useState(\"\");\n\n  /**\n   * Behandelt das Absenden des Passwortänderungsformulars.\n   *\n   * @async\n   * @param {Event} e - Das Submit-Event des Formulars\n   * @returns {Promise<void>} Führt die Passwortänderung durch und navigiert bei Erfolg zur Konto-Seite.\n   */\n  const handlePasswordChange = async e => {\n    e.preventDefault();\n    try {\n      // Anfrage an das Backend senden\n      const response = await fetch(\"http://localhost:8080/user/change-password\", {\n        method: \"PUT\",\n        credentials: \"include\",\n        // JWT-Cookie wird mitgesendet\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          oldPassword: oldPassword,\n          newPassword: newPassword\n        })\n      });\n      if (response.ok) {\n        console.log(\"Passwort wurde geändert\");\n        navigate(\"/myaccount\"); // Weiterleitung bei Erfolg\n      } else {\n        console.log(\"Passwort wurde nicht geändert – ein Fehler ist aufgetreten\");\n      }\n    } catch (error) {\n      console.error(\"Fehler beim Ändern des Passworts:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"password-change-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"password-change-form\",\n      onSubmit: handlePasswordChange,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => navigate(\"/myaccount\"),\n        className: \"back-button\",\n        children: \"\\u2190 Zur\\xFCck\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Passwort \\xC4ndern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Altes Passwort\",\n        onChange: e => setOldPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Neues Passwort\",\n        onChange: e => setNewPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"password-change\",\n        children: \"Passwort \\xC4ndern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(ChangePassword, \"709Pj9thGlm9AgZRExypleOqqxk=\", false, function () {\n  return [useNavigate];\n});\n_c = ChangePassword;\nexport default ChangePassword;\nvar _c;\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["Link","useNavigate","useState","jsxDEV","_jsxDEV","ChangePassword","_s","navigate","oldPassword","setOldPassword","newPassword","setNewPassword","handlePasswordChange","e","preventDefault","response","fetch","method","credentials","headers","body","JSON","stringify","ok","console","log","error","className","children","onSubmit","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","target","value","required","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ChangePassword.jsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"../styles/changepassword.css\";\n\n/**\n * Komponente zum Ändern des Benutzerpassworts.\n *\n * <p>Diese Komponente stellt ein Formular bereit, mit dem ein:e eingeloggte:r Benutzer:in\n * das eigene Passwort ändern kann. Die Anfrage wird über die Fetch-API\n * an das Spring-Boot-Backend gesendet (<code>/user/change-password</code>).</p>\n *\n * <ul>\n *   <li>Das Formular enthält zwei Eingabefelder: altes und neues Passwort.</li>\n *   <li>Nach erfolgreicher Änderung wird der Benutzer automatisch zur „Mein Konto“-Seite weitergeleitet.</li>\n *   <li>Bei einem Fehler wird eine Meldung in der Konsole ausgegeben.</li>\n * </ul>\n *\n * @component\n * @returns {JSX.Element} Die React-Komponente für die Passwortänderung\n */\nfunction ChangePassword() {\n    const navigate = useNavigate();\n\n    /** Zustand für das alte Passwort */\n    const [oldPassword, setOldPassword] = useState(\"\");\n\n    /** Zustand für das neue Passwort */\n    const [newPassword, setNewPassword] = useState(\"\");\n\n    /**\n     * Behandelt das Absenden des Passwortänderungsformulars.\n     *\n     * @async\n     * @param {Event} e - Das Submit-Event des Formulars\n     * @returns {Promise<void>} Führt die Passwortänderung durch und navigiert bei Erfolg zur Konto-Seite.\n     */\n    const handlePasswordChange = async (e) => {\n        e.preventDefault();\n\n        try {\n            // Anfrage an das Backend senden\n            const response = await fetch(\"http://localhost:8080/user/change-password\", {\n                method: \"PUT\",\n                credentials: \"include\", // JWT-Cookie wird mitgesendet\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    oldPassword: oldPassword,\n                    newPassword: newPassword\n                })\n            });\n\n            if (response.ok) {\n                console.log(\"Passwort wurde geändert\");\n                navigate(\"/myaccount\"); // Weiterleitung bei Erfolg\n            } else {\n                console.log(\"Passwort wurde nicht geändert – ein Fehler ist aufgetreten\");\n            }\n        } catch (error) {\n            console.error(\"Fehler beim Ändern des Passworts:\", error);\n        }\n    };\n\n    return (\n        <div className=\"password-change-container\">\n            <form className=\"password-change-form\" onSubmit={handlePasswordChange}>\n                {/* Zurück-Button zur vorherigen Seite */}\n                <button\n                    type=\"button\"\n                    onClick={() => navigate(\"/myaccount\")}\n                    className=\"back-button\"\n                >\n                    ← Zurück\n                </button>\n\n                <h1>Passwort Ändern</h1>\n\n                {/* Eingabefeld: altes Passwort */}\n                <input\n                    type=\"password\"\n                    placeholder=\"Altes Passwort\"\n                    onChange={(e) => setOldPassword(e.target.value)}\n                    required\n                />\n\n                {/* Eingabefeld: neues Passwort */}\n                <input\n                    type=\"password\"\n                    placeholder=\"Neues Passwort\"\n                    onChange={(e) => setNewPassword(e.target.value)}\n                    required\n                />\n\n                {/* Submit-Button */}\n                <button type=\"submit\" className=\"password-change\">Passwort Ändern</button>\n            </form>\n        </div>\n    );\n}\n\nexport default ChangePassword;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}