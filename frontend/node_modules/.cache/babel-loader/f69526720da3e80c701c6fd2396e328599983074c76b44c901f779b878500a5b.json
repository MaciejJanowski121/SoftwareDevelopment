{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/TimePicker.jsx\",\n  _s = $RefreshSig$();\n// src/components/TimePicker.jsx\nimport { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pad = n => n < 10 ? `0${n}` : `${n}`;\nexport default function TimePicker({\n  hour,\n  minute,\n  minHour = 12,\n  maxHour = 21,\n  // 22 wyłączone (lokal zamyka się o 22)\n  stepMinutes = 30,\n  onChange\n}) {\n  _s();\n  const [h, setH] = useState(String(hour !== null && hour !== void 0 ? hour : minHour));\n  const [m, setM] = useState(String(minute !== null && minute !== void 0 ? minute : \"00\"));\n  const debRef = useRef(null);\n  const lastSent = useRef(`${hour}:${minute}`);\n\n  // trzymamy lokalny stan i wysyłamy do rodzica z debounce, żeby nie spamować fetchem\n  useEffect(() => {\n    clearTimeout(debRef.current);\n    debRef.current = setTimeout(() => {\n      const key = `${h}:${m}`;\n      if (key !== lastSent.current) {\n        lastSent.current = key;\n        onChange === null || onChange === void 0 ? void 0 : onChange({\n          hour: h,\n          minute: m\n        });\n      }\n    }, 300);\n    return () => clearTimeout(debRef.current);\n  }, [h, m, onChange]);\n\n  // gdy propsy przychodzą z zewnątrz (np. reset formularza)\n  useEffect(() => {\n    if (hour != null) setH(String(hour));\n    if (minute != null) setM(String(minute));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [hour, minute]);\n  const incHour = () => setH(prev => {\n    const n = Math.min(+prev + 1, maxHour);\n    return String(n);\n  });\n  const decHour = () => setH(prev => {\n    const n = Math.max(+prev - 1, minHour);\n    return String(n);\n  });\n  const setMinute = val => setM(val);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tp-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tp-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"tp-btn\",\n        onClick: decHour,\n        \"aria-label\": \"Hour down\",\n        children: \"\\u2039\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tp-value\",\n        \"aria-label\": \"Hour\",\n        children: pad(+h)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"tp-btn\",\n        onClick: incHour,\n        \"aria-label\": \"Hour up\",\n        children: \"\\u203A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tp-sep\",\n      children: \":\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tp-field\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"tp-select\",\n        value: m,\n        onChange: e => setMinute(e.target.value),\n        \"aria-label\": \"Minute\",\n        children: stepMinutes === 30 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"00\",\n            children: \"00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"30\",\n            children: \"30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : Array.from({\n          length: 60 / stepMinutes\n        }, (_, i) => {\n          const mm = pad(i * stepMinutes);\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: mm,\n            children: mm\n          }, mm, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .tp-root { display:flex; align-items:center; gap:8px; }\n        .tp-field { display:flex; align-items:center; gap:6px; }\n        .tp-btn {\n          width:28px; height:28px; line-height:28px;\n          border:1px solid #ccc; border-radius:6px;\n          background:#fafafa; cursor:pointer; font-size:14px; padding:0;\n        }\n        .tp-btn:active { transform: translateY(1px); }\n        .tp-value {\n          min-width:36px; text-align:center; font-variant-numeric: tabular-nums;\n          padding:4px 6px; border:1px solid #ddd; border-radius:6px; background:#fff;\n        }\n        .tp-sep { opacity:0.7; }\n        .tp-select {\n          height:30px; border:1px solid #ddd; border-radius:6px; padding:0 6px;\n          background:#fff; font-size:14px; appearance:auto;\n        }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(TimePicker, \"aQhUvzytR5ftXNbBqTZuIHmX2go=\");\n_c = TimePicker;\nvar _c;\n$RefreshReg$(_c, \"TimePicker\");","map":{"version":3,"names":["useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","pad","n","TimePicker","hour","minute","minHour","maxHour","stepMinutes","onChange","_s","h","setH","String","m","setM","debRef","lastSent","clearTimeout","current","setTimeout","key","incHour","prev","Math","min","decHour","max","setMinute","val","className","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","e","target","Array","from","length","_","i","mm","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/TimePicker.jsx"],"sourcesContent":["// src/components/TimePicker.jsx\nimport { useEffect, useRef, useState } from \"react\";\n\nconst pad = (n) => (n < 10 ? `0${n}` : `${n}`);\n\nexport default function TimePicker({\n                                       hour,\n                                       minute,\n                                       minHour = 12,\n                                       maxHour = 21,       // 22 wyłączone (lokal zamyka się o 22)\n                                       stepMinutes = 30,\n                                       onChange,\n                                   }) {\n    const [h, setH] = useState(String(hour ?? minHour));\n    const [m, setM] = useState(String(minute ?? \"00\"));\n    const debRef = useRef(null);\n    const lastSent = useRef(`${hour}:${minute}`);\n\n    // trzymamy lokalny stan i wysyłamy do rodzica z debounce, żeby nie spamować fetchem\n    useEffect(() => {\n        clearTimeout(debRef.current);\n        debRef.current = setTimeout(() => {\n            const key = `${h}:${m}`;\n            if (key !== lastSent.current) {\n                lastSent.current = key;\n                onChange?.({ hour: h, minute: m });\n            }\n        }, 300);\n        return () => clearTimeout(debRef.current);\n    }, [h, m, onChange]);\n\n    // gdy propsy przychodzą z zewnątrz (np. reset formularza)\n    useEffect(() => {\n        if (hour != null) setH(String(hour));\n        if (minute != null) setM(String(minute));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [hour, minute]);\n\n    const incHour = () => setH((prev) => {\n        const n = Math.min(+prev + 1, maxHour);\n        return String(n);\n    });\n    const decHour = () => setH((prev) => {\n        const n = Math.max(+prev - 1, minHour);\n        return String(n);\n    });\n\n    const setMinute = (val) => setM(val);\n\n    return (\n        <div className=\"tp-root\">\n            <div className=\"tp-field\">\n                <button type=\"button\" className=\"tp-btn\" onClick={decHour} aria-label=\"Hour down\">‹</button>\n                <div className=\"tp-value\" aria-label=\"Hour\">{pad(+h)}</div>\n                <button type=\"button\" className=\"tp-btn\" onClick={incHour} aria-label=\"Hour up\">›</button>\n            </div>\n\n            <div className=\"tp-sep\">:</div>\n\n            <div className=\"tp-field\">\n                <select\n                    className=\"tp-select\"\n                    value={m}\n                    onChange={(e) => setMinute(e.target.value)}\n                    aria-label=\"Minute\"\n                >\n                    {stepMinutes === 30 ? (\n                        <>\n                            <option value=\"00\">00</option>\n                            <option value=\"30\">30</option>\n                        </>\n                    ) : (\n                        Array.from({ length: 60 / stepMinutes }, (_, i) => {\n                            const mm = pad(i * stepMinutes);\n                            return <option key={mm} value={mm}>{mm}</option>;\n                        })\n                    )}\n                </select>\n            </div>\n\n            <style>\n                {`\n        .tp-root { display:flex; align-items:center; gap:8px; }\n        .tp-field { display:flex; align-items:center; gap:6px; }\n        .tp-btn {\n          width:28px; height:28px; line-height:28px;\n          border:1px solid #ccc; border-radius:6px;\n          background:#fafafa; cursor:pointer; font-size:14px; padding:0;\n        }\n        .tp-btn:active { transform: translateY(1px); }\n        .tp-value {\n          min-width:36px; text-align:center; font-variant-numeric: tabular-nums;\n          padding:4px 6px; border:1px solid #ddd; border-radius:6px; background:#fff;\n        }\n        .tp-sep { opacity:0.7; }\n        .tp-select {\n          height:30px; border:1px solid #ddd; border-radius:6px; padding:0 6px;\n          background:#fff; font-size:14px; appearance:auto;\n        }\n        `}\n            </style>\n        </div>\n    );\n}"],"mappings":";;AAAA;AACA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpD,MAAMC,GAAG,GAAIC,CAAC,IAAMA,CAAC,GAAG,EAAE,GAAG,IAAIA,CAAC,EAAE,GAAG,GAAGA,CAAC,EAAG;AAE9C,eAAe,SAASC,UAAUA,CAAC;EACIC,IAAI;EACJC,MAAM;EACNC,OAAO,GAAG,EAAE;EACZC,OAAO,GAAG,EAAE;EAAQ;EACpBC,WAAW,GAAG,EAAE;EAChBC;AACJ,CAAC,EAAE;EAAAC,EAAA;EAClC,MAAM,CAACC,CAAC,EAAEC,IAAI,CAAC,GAAGhB,QAAQ,CAACiB,MAAM,CAACT,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAIE,OAAO,CAAC,CAAC;EACnD,MAAM,CAACQ,CAAC,EAAEC,IAAI,CAAC,GAAGnB,QAAQ,CAACiB,MAAM,CAACR,MAAM,aAANA,MAAM,cAANA,MAAM,GAAI,IAAI,CAAC,CAAC;EAClD,MAAMW,MAAM,GAAGrB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMsB,QAAQ,GAAGtB,MAAM,CAAC,GAAGS,IAAI,IAAIC,MAAM,EAAE,CAAC;;EAE5C;EACAX,SAAS,CAAC,MAAM;IACZwB,YAAY,CAACF,MAAM,CAACG,OAAO,CAAC;IAC5BH,MAAM,CAACG,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC9B,MAAMC,GAAG,GAAG,GAAGV,CAAC,IAAIG,CAAC,EAAE;MACvB,IAAIO,GAAG,KAAKJ,QAAQ,CAACE,OAAO,EAAE;QAC1BF,QAAQ,CAACE,OAAO,GAAGE,GAAG;QACtBZ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAG;UAAEL,IAAI,EAAEO,CAAC;UAAEN,MAAM,EAAES;QAAE,CAAC,CAAC;MACtC;IACJ,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAMI,YAAY,CAACF,MAAM,CAACG,OAAO,CAAC;EAC7C,CAAC,EAAE,CAACR,CAAC,EAAEG,CAAC,EAAEL,QAAQ,CAAC,CAAC;;EAEpB;EACAf,SAAS,CAAC,MAAM;IACZ,IAAIU,IAAI,IAAI,IAAI,EAAEQ,IAAI,CAACC,MAAM,CAACT,IAAI,CAAC,CAAC;IACpC,IAAIC,MAAM,IAAI,IAAI,EAAEU,IAAI,CAACF,MAAM,CAACR,MAAM,CAAC,CAAC;IACxC;EACJ,CAAC,EAAE,CAACD,IAAI,EAAEC,MAAM,CAAC,CAAC;EAElB,MAAMiB,OAAO,GAAGA,CAAA,KAAMV,IAAI,CAAEW,IAAI,IAAK;IACjC,MAAMrB,CAAC,GAAGsB,IAAI,CAACC,GAAG,CAAC,CAACF,IAAI,GAAG,CAAC,EAAEhB,OAAO,CAAC;IACtC,OAAOM,MAAM,CAACX,CAAC,CAAC;EACpB,CAAC,CAAC;EACF,MAAMwB,OAAO,GAAGA,CAAA,KAAMd,IAAI,CAAEW,IAAI,IAAK;IACjC,MAAMrB,CAAC,GAAGsB,IAAI,CAACG,GAAG,CAAC,CAACJ,IAAI,GAAG,CAAC,EAAEjB,OAAO,CAAC;IACtC,OAAOO,MAAM,CAACX,CAAC,CAAC;EACpB,CAAC,CAAC;EAEF,MAAM0B,SAAS,GAAIC,GAAG,IAAKd,IAAI,CAACc,GAAG,CAAC;EAEpC,oBACI/B,OAAA;IAAKgC,SAAS,EAAC,SAAS;IAAAC,QAAA,gBACpBjC,OAAA;MAAKgC,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACrBjC,OAAA;QAAQkC,IAAI,EAAC,QAAQ;QAACF,SAAS,EAAC,QAAQ;QAACG,OAAO,EAAEP,OAAQ;QAAC,cAAW,WAAW;QAAAK,QAAA,EAAC;MAAC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC5FvC,OAAA;QAAKgC,SAAS,EAAC,UAAU;QAAC,cAAW,MAAM;QAAAC,QAAA,EAAE9B,GAAG,CAAC,CAACU,CAAC;MAAC;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC3DvC,OAAA;QAAQkC,IAAI,EAAC,QAAQ;QAACF,SAAS,EAAC,QAAQ;QAACG,OAAO,EAAEX,OAAQ;QAAC,cAAW,SAAS;QAAAS,QAAA,EAAC;MAAC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzF,CAAC,eAENvC,OAAA;MAAKgC,SAAS,EAAC,QAAQ;MAAAC,QAAA,EAAC;IAAC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAE/BvC,OAAA;MAAKgC,SAAS,EAAC,UAAU;MAAAC,QAAA,eACrBjC,OAAA;QACIgC,SAAS,EAAC,WAAW;QACrBQ,KAAK,EAAExB,CAAE;QACTL,QAAQ,EAAG8B,CAAC,IAAKX,SAAS,CAACW,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAC3C,cAAW,QAAQ;QAAAP,QAAA,EAElBvB,WAAW,KAAK,EAAE,gBACfV,OAAA,CAAAE,SAAA;UAAA+B,QAAA,gBACIjC,OAAA;YAAQwC,KAAK,EAAC,IAAI;YAAAP,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9BvC,OAAA;YAAQwC,KAAK,EAAC,IAAI;YAAAP,QAAA,EAAC;UAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eAChC,CAAC,GAEHI,KAAK,CAACC,IAAI,CAAC;UAAEC,MAAM,EAAE,EAAE,GAAGnC;QAAY,CAAC,EAAE,CAACoC,CAAC,EAAEC,CAAC,KAAK;UAC/C,MAAMC,EAAE,GAAG7C,GAAG,CAAC4C,CAAC,GAAGrC,WAAW,CAAC;UAC/B,oBAAOV,OAAA;YAAiBwC,KAAK,EAAEQ,EAAG;YAAAf,QAAA,EAAEe;UAAE,GAAlBA,EAAE;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAyB,CAAC;QACpD,CAAC;MACJ;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAENvC,OAAA;MAAAiC,QAAA,EACK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEd;AAAC3B,EAAA,CAlGuBP,UAAU;AAAA4C,EAAA,GAAV5C,UAAU;AAAA,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}