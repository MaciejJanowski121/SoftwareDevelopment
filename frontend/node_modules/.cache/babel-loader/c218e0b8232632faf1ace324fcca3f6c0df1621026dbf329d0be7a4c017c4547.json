{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationForm({\n  setReservation\n}) {\n  _s();\n  // --- stan formularza ---\n  const [startDatePart, setStartDatePart] = useState(\"\"); // \"YYYY-MM-DD\"\n  const [startTimePart, setStartTimePart] = useState(\"\"); // \"HH:mm\"\n  const [minutes, setMinutes] = useState(120); // 30..300\n  const [tableNumber, setTableNumber] = useState(\"\");\n  const [availableTables, setAvailableTables] = useState([]);\n  const [formError, setFormError] = useState(\"\");\n  const navigate = useNavigate();\n  const API = useMemo(() => process.env.REACT_APP_API_URL || \"http://localhost:8080\", []);\n\n  // --- reguły biznesowe ---\n  const MIN_MIN = 30;\n  const MAX_MIN = 300;\n  const CLOSING_HOUR = 22; // rezerwacje najpóźniej do 22:00\n\n  // --- utils czasu ---\n  const pad = n => n < 10 ? \"0\" + n : \"\" + n;\n  const toIsoWithSeconds = date => `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}T${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())}`;\n  const todayDateStr = useMemo(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\n  }, []);\n\n  // round „HH:mm” do skoku 30 min i przytnij do 22:00\n  const roundTo30 = hhmm => {\n    if (!hhmm || !/^\\d{2}:\\d{2}$/.test(hhmm)) return \"\";\n    let [h, m] = hhmm.split(\":\").map(Number);\n    const total = h * 60 + m;\n    const rounded = Math.round(total / 30) * 30;\n    let rh = Math.floor(rounded / 60);\n    let rm = rounded % 60;\n    if (rh > CLOSING_HOUR || rh === CLOSING_HOUR && rm > 0) {\n      rh = CLOSING_HOUR;\n      rm = 0;\n    }\n    return `${pad(rh)}:${pad(rm)}`;\n  };\n\n  // z części daty i godziny budujemy Date (sekundy = 0)\n  const buildStartDate = (datePart, timePart) => {\n    if (!datePart || !timePart) return null;\n    // Tworzymy jako lokalny czas (YYYY-MM-DDTHH:mm:00)\n    return new Date(`${datePart}T${timePart}:00`);\n  };\n\n  // maksymalny dozwolony czas trwania tak, by end <= 22:00 tego samego dnia\n  const maxMinutesForStart = startDate => {\n    if (!startDate) return MAX_MIN;\n    const latestEnd = new Date(startDate);\n    latestEnd.setHours(CLOSING_HOUR, 0, 0, 0); // 22:00\n    const diffMs = latestEnd.getTime() - startDate.getTime();\n    const diffMin = Math.floor(diffMs / 60000);\n    if (diffMin <= 0) return 0;\n    return Math.min(MAX_MIN, diffMin);\n  };\n\n  // --- obliczenia pochodne ---\n  const startDateObj = buildStartDate(startDatePart, startTimePart);\n  const maxAllowedForHint = maxMinutesForStart(startDateObj);\n  const endPreview = startDateObj && minutes ? new Date(startDateObj.getTime() + minutes * 60000) : null;\n\n  // --- wstępne wartości: podpowiedz dzisiejszą datę / zaokrągloną godzinę teraz ---\n  useEffect(() => {\n    if (!startDatePart) setStartDatePart(todayDateStr);\n    if (!startTimePart) {\n      const d = new Date();\n      const now = `${pad(d.getHours())}:${pad(d.getMinutes())}`;\n      setStartTimePart(roundTo30(now)); // snap do 00/30\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // --- pobieranie dostępnych stolików po zmianach startu / minutes ---\n  useEffect(() => {\n    const fetchAvailable = async () => {\n      setFormError(\"\");\n      if (!startDateObj || !minutes) {\n        setAvailableTables([]);\n        return;\n      }\n      const maxAllowed = maxMinutesForStart(startDateObj);\n      if (maxAllowed < MIN_MIN) {\n        setAvailableTables([]);\n        return;\n      }\n      const startISO = toIsoWithSeconds(startDateObj);\n      try {\n        const res = await fetch(`${API}/api/reservations/available?start=${encodeURIComponent(startISO)}&minutes=${minutes}`, {\n          credentials: \"include\"\n        });\n        if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n        const data = await res.json();\n        setAvailableTables(Array.isArray(data) ? data : []);\n      } catch (e) {\n        console.error(e);\n        setAvailableTables([]);\n      }\n    };\n    fetchAvailable();\n  }, [API, minutes, startDateObj]);\n\n  // jeśli wybrany stolik wypada z listy, resetuj selection\n  useEffect(() => {\n    if (!tableNumber) return;\n    const stillAvailable = availableTables.some(t => String(t.tableNumber) === String(tableNumber));\n    if (!stillAvailable) setTableNumber(\"\");\n  }, [tableNumber, availableTables]);\n\n  // --- submit ---\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormError(\"\");\n    if (!startDateObj) return setFormError(\"Bitte Startzeit auswählen.\");\n\n    // przeszłość\n    if (startDateObj < new Date()) {\n      return setFormError(\"Reservierungen in der Vergangenheit sind nicht möglich.\");\n    }\n\n    // zakres\n    if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN) {\n      return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n    }\n\n    // limit 22:00\n    const maxAllowed = maxMinutesForStart(startDateObj);\n    if (minutes > maxAllowed) {\n      if (maxAllowed < MIN_MIN) {\n        return setFormError(\"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\");\n      }\n      return setFormError(`Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`);\n    }\n    if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n    const end = new Date(startDateObj.getTime() + minutes * 60 * 1000);\n    const payload = {\n      tableNumber: Number(tableNumber),\n      startTime: toIsoWithSeconds(startDateObj),\n      endTime: toIsoWithSeconds(end)\n    };\n    try {\n      const resp = await fetch(`${API}/api/reservations`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      });\n      const txt = await resp.text();\n      if (!resp.ok) {\n        throw new Error(txt || \"Reservierung fehlgeschlagen – bitte versuchen Sie es erneut.\");\n      }\n      const data = txt ? JSON.parse(txt) : null;\n      setReservation([data]);\n      navigate(\"/reservations/my\");\n    } catch (err) {\n      console.error(err);\n      setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n    }\n  };\n\n  // --- render ---\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"reservation-form\",\n    noValidate: true,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"startDate\",\n      style: {\n        display: \"block\",\n        marginBottom: 4\n      },\n      children: \"Datum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startDate\",\n      type: \"date\",\n      value: startDatePart,\n      min: todayDateStr,\n      onChange: e => {\n        setStartDatePart(e.target.value);\n        setFormError(\"\");\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"startTimeHM\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Uhrzeit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startTimeHM\",\n      type: \"time\",\n      step: 1800 // 30 min\n      ,\n      min: \"00:00\",\n      max: \"22:00\",\n      value: startTimePart,\n      onChange: e => {\n        const v = roundTo30(e.target.value);\n        setStartTimePart(v);\n        setFormError(\"\");\n      },\n      onBlur: e => {\n        const v = roundTo30(e.target.value);\n        if (v !== e.target.value) {\n          e.target.value = v;\n          setStartTimePart(v);\n        }\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 4,\n        color: \"#555\"\n      },\n      children: [\"Schritte: 30 Minuten, sp\\xE4testens \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"22:00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 50\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startTime\",\n      type: \"hidden\",\n      value: startDatePart && startTimePart ? `${startDatePart}T${startTimePart}` : \"\",\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"duration\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Dauer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"duration\",\n      value: minutes,\n      onChange: e => {\n        setMinutes(Number(e.target.value));\n        setFormError(\"\");\n      },\n      required: true,\n      children: Array.from({\n        length: (MAX_MIN - MIN_MIN) / 30 + 1\n      }, (_, i) => {\n        const m = MIN_MIN + i * 30;\n        const disabled = !!startDateObj && m > maxMinutesForStart(startDateObj);\n        const label = m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: m,\n          disabled: disabled,\n          children: [label, disabled ? \" (bis 22:00 Uhr)\" : \"\"]\n        }, m, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"tableNumber\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Tisch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"tableNumber\",\n      value: tableNumber,\n      onChange: e => setTableNumber(e.target.value),\n      required: true,\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Tisch ausw\\xE4hlen\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), availableTables.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t.tableNumber,\n        children: [\"Tisch \", t.tableNumber, \" (\", t.numberOfSeats, \" Pers.)\"]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }, this), endPreview && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 6,\n        color: \"#555\"\n      },\n      children: [\"Ende:\", \" \", endPreview.toLocaleTimeString(\"de-DE\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }), \" \", \"(sp\\xE4testens 22:00 Uhr)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-cy\": \"form-error\",\n      style: {\n        color: \"#c62828\",\n        marginTop: 10\n      },\n      children: formError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginTop: 12\n      },\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: \"Reservieren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationForm, \"eW3aEJJ6g7YQHACLIs9n4ggPWcA=\", false, function () {\n  return [useNavigate];\n});\n_c = ReservationForm;\nexport default ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["useState","useEffect","useMemo","useNavigate","jsxDEV","_jsxDEV","ReservationForm","setReservation","_s","startDatePart","setStartDatePart","startTimePart","setStartTimePart","minutes","setMinutes","tableNumber","setTableNumber","availableTables","setAvailableTables","formError","setFormError","navigate","API","process","env","REACT_APP_API_URL","MIN_MIN","MAX_MIN","CLOSING_HOUR","pad","n","toIsoWithSeconds","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","todayDateStr","d","Date","roundTo30","hhmm","test","h","m","split","map","Number","total","rounded","Math","round","rh","floor","rm","buildStartDate","datePart","timePart","maxMinutesForStart","startDate","latestEnd","setHours","diffMs","getTime","diffMin","min","startDateObj","maxAllowedForHint","endPreview","now","fetchAvailable","maxAllowed","startISO","res","fetch","encodeURIComponent","credentials","ok","Error","data","json","Array","isArray","e","console","error","stillAvailable","some","t","String","handleSubmit","preventDefault","end","payload","startTime","endTime","resp","method","headers","body","JSON","stringify","txt","text","parse","err","message","onSubmit","className","noValidate","children","htmlFor","style","display","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","id","type","value","onChange","target","required","margin","step","max","v","onBlur","marginTop","color","readOnly","from","length","_","i","disabled","label","numberOfSeats","toLocaleTimeString","hour","minute","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ReservationForm({ setReservation }) {\n    // --- stan formularza ---\n    const [startDatePart, setStartDatePart] = useState(\"\"); // \"YYYY-MM-DD\"\n    const [startTimePart, setStartTimePart] = useState(\"\"); // \"HH:mm\"\n    const [minutes, setMinutes] = useState(120);            // 30..300\n    const [tableNumber, setTableNumber] = useState(\"\");\n    const [availableTables, setAvailableTables] = useState([]);\n    const [formError, setFormError] = useState(\"\");\n\n    const navigate = useNavigate();\n    const API = useMemo(\n        () => process.env.REACT_APP_API_URL || \"http://localhost:8080\",\n        []\n    );\n\n    // --- reguły biznesowe ---\n    const MIN_MIN = 30;\n    const MAX_MIN = 300;\n    const CLOSING_HOUR = 22; // rezerwacje najpóźniej do 22:00\n\n    // --- utils czasu ---\n    const pad = (n) => (n < 10 ? \"0\" + n : \"\" + n);\n    const toIsoWithSeconds = (date) =>\n        `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(\n            date.getDate()\n        )}T${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(\n            date.getSeconds()\n        )}`;\n\n    const todayDateStr = useMemo(() => {\n        const d = new Date();\n        return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\n    }, []);\n\n    // round „HH:mm” do skoku 30 min i przytnij do 22:00\n    const roundTo30 = (hhmm) => {\n        if (!hhmm || !/^\\d{2}:\\d{2}$/.test(hhmm)) return \"\";\n        let [h, m] = hhmm.split(\":\").map(Number);\n        const total = h * 60 + m;\n        const rounded = Math.round(total / 30) * 30;\n        let rh = Math.floor(rounded / 60);\n        let rm = rounded % 60;\n        if (rh > CLOSING_HOUR || (rh === CLOSING_HOUR && rm > 0)) {\n            rh = CLOSING_HOUR;\n            rm = 0;\n        }\n        return `${pad(rh)}:${pad(rm)}`;\n    };\n\n    // z części daty i godziny budujemy Date (sekundy = 0)\n    const buildStartDate = (datePart, timePart) => {\n        if (!datePart || !timePart) return null;\n        // Tworzymy jako lokalny czas (YYYY-MM-DDTHH:mm:00)\n        return new Date(`${datePart}T${timePart}:00`);\n    };\n\n    // maksymalny dozwolony czas trwania tak, by end <= 22:00 tego samego dnia\n    const maxMinutesForStart = (startDate) => {\n        if (!startDate) return MAX_MIN;\n        const latestEnd = new Date(startDate);\n        latestEnd.setHours(CLOSING_HOUR, 0, 0, 0); // 22:00\n        const diffMs = latestEnd.getTime() - startDate.getTime();\n        const diffMin = Math.floor(diffMs / 60000);\n        if (diffMin <= 0) return 0;\n        return Math.min(MAX_MIN, diffMin);\n    };\n\n    // --- obliczenia pochodne ---\n    const startDateObj = buildStartDate(startDatePart, startTimePart);\n    const maxAllowedForHint = maxMinutesForStart(startDateObj);\n    const endPreview =\n        startDateObj && minutes\n            ? new Date(startDateObj.getTime() + minutes * 60000)\n            : null;\n\n    // --- wstępne wartości: podpowiedz dzisiejszą datę / zaokrągloną godzinę teraz ---\n    useEffect(() => {\n        if (!startDatePart) setStartDatePart(todayDateStr);\n        if (!startTimePart) {\n            const d = new Date();\n            const now = `${pad(d.getHours())}:${pad(d.getMinutes())}`;\n            setStartTimePart(roundTo30(now)); // snap do 00/30\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // --- pobieranie dostępnych stolików po zmianach startu / minutes ---\n    useEffect(() => {\n        const fetchAvailable = async () => {\n            setFormError(\"\");\n\n            if (!startDateObj || !minutes) {\n                setAvailableTables([]);\n                return;\n            }\n\n            const maxAllowed = maxMinutesForStart(startDateObj);\n            if (maxAllowed < MIN_MIN) {\n                setAvailableTables([]);\n                return;\n            }\n\n            const startISO = toIsoWithSeconds(startDateObj);\n\n            try {\n                const res = await fetch(\n                    `${API}/api/reservations/available?start=${encodeURIComponent(\n                        startISO\n                    )}&minutes=${minutes}`,\n                    { credentials: \"include\" }\n                );\n                if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n                const data = await res.json();\n                setAvailableTables(Array.isArray(data) ? data : []);\n            } catch (e) {\n                console.error(e);\n                setAvailableTables([]);\n            }\n        };\n\n        fetchAvailable();\n    }, [API, minutes, startDateObj]);\n\n    // jeśli wybrany stolik wypada z listy, resetuj selection\n    useEffect(() => {\n        if (!tableNumber) return;\n        const stillAvailable = availableTables.some(\n            (t) => String(t.tableNumber) === String(tableNumber)\n        );\n        if (!stillAvailable) setTableNumber(\"\");\n    }, [tableNumber, availableTables]);\n\n    // --- submit ---\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setFormError(\"\");\n\n        if (!startDateObj) return setFormError(\"Bitte Startzeit auswählen.\");\n\n        // przeszłość\n        if (startDateObj < new Date()) {\n            return setFormError(\n                \"Reservierungen in der Vergangenheit sind nicht möglich.\"\n            );\n        }\n\n        // zakres\n        if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN) {\n            return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n        }\n\n        // limit 22:00\n        const maxAllowed = maxMinutesForStart(startDateObj);\n        if (minutes > maxAllowed) {\n            if (maxAllowed < MIN_MIN) {\n                return setFormError(\n                    \"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\"\n                );\n            }\n            return setFormError(\n                `Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`\n            );\n        }\n\n        if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n\n        const end = new Date(startDateObj.getTime() + minutes * 60 * 1000);\n\n        const payload = {\n            tableNumber: Number(tableNumber),\n            startTime: toIsoWithSeconds(startDateObj),\n            endTime: toIsoWithSeconds(end),\n        };\n\n        try {\n            const resp = await fetch(`${API}/api/reservations`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify(payload),\n            });\n\n            const txt = await resp.text();\n            if (!resp.ok) {\n                throw new Error(\n                    txt || \"Reservierung fehlgeschlagen – bitte versuchen Sie es erneut.\"\n                );\n            }\n\n            const data = txt ? JSON.parse(txt) : null;\n            setReservation([data]);\n            navigate(\"/reservations/my\");\n        } catch (err) {\n            console.error(err);\n            setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n        }\n    };\n\n    // --- render ---\n    return (\n        <form onSubmit={handleSubmit} className=\"reservation-form\" noValidate>\n            {/* Data */}\n            <label htmlFor=\"startDate\" style={{ display: \"block\", marginBottom: 4 }}>\n                Datum\n            </label>\n            <input\n                id=\"startDate\"\n                type=\"date\"\n                value={startDatePart}\n                min={todayDateStr}\n                onChange={(e) => {\n                    setStartDatePart(e.target.value);\n                    setFormError(\"\");\n                }}\n                required\n            />\n\n            {/* Godzina (kompaktowy natywny picker, krok 30 min) */}\n            <label\n                htmlFor=\"startTimeHM\"\n                style={{ display: \"block\", margin: \"12px 0 4px\" }}\n            >\n                Uhrzeit\n            </label>\n            <input\n                id=\"startTimeHM\"\n                type=\"time\"\n                step={1800} // 30 min\n                min=\"00:00\"\n                max=\"22:00\"\n                value={startTimePart}\n                onChange={(e) => {\n                    const v = roundTo30(e.target.value);\n                    setStartTimePart(v);\n                    setFormError(\"\");\n                }}\n                onBlur={(e) => {\n                    const v = roundTo30(e.target.value);\n                    if (v !== e.target.value) {\n                        e.target.value = v;\n                        setStartTimePart(v);\n                    }\n                }}\n                required\n            />\n            <small style={{ display: \"block\", marginTop: 4, color: \"#555\" }}>\n                Schritte: 30 Minuten, spätestens <strong>22:00</strong>.\n            </small>\n\n            {/* HIDDEN dla Cypressa (zachowuje stary selektor #startTime) */}\n            <input\n                id=\"startTime\"\n                type=\"hidden\"\n                value={\n                    startDatePart && startTimePart\n                        ? `${startDatePart}T${startTimePart}`\n                        : \"\"\n                }\n                readOnly\n            />\n\n            {/* Czas trwania */}\n            <label\n                htmlFor=\"duration\"\n                style={{ display: \"block\", margin: \"12px 0 4px\" }}\n            >\n                Dauer\n            </label>\n            <select\n                id=\"duration\"\n                value={minutes}\n                onChange={(e) => {\n                    setMinutes(Number(e.target.value));\n                    setFormError(\"\");\n                }}\n                required\n            >\n                {Array.from({ length: (MAX_MIN - MIN_MIN) / 30 + 1 }, (_, i) => {\n                    const m = MIN_MIN + i * 30;\n                    const disabled =\n                        !!startDateObj && m > maxMinutesForStart(startDateObj);\n                    const label =\n                        m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n                    return (\n                        <option key={m} value={m} disabled={disabled}>\n                            {label}\n                            {disabled ? \" (bis 22:00 Uhr)\" : \"\"}\n                        </option>\n                    );\n                })}\n            </select>\n\n            {/* Tischauswahl */}\n            <label\n                htmlFor=\"tableNumber\"\n                style={{ display: \"block\", margin: \"12px 0 4px\" }}\n            >\n                Tisch\n            </label>\n            <select\n                id=\"tableNumber\"\n                value={tableNumber}\n                onChange={(e) => setTableNumber(e.target.value)}\n                required\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                <option value=\"\">Tisch auswählen…</option>\n                {availableTables.map((t) => (\n                    <option key={t.id} value={t.tableNumber}>\n                        Tisch {t.tableNumber} ({t.numberOfSeats} Pers.)\n                    </option>\n                ))}\n            </select>\n\n            {/* Podgląd końca */}\n            {endPreview && (\n                <small style={{ display: \"block\", marginTop: 6, color: \"#555\" }}>\n                    Ende:{\" \"}\n                    {endPreview.toLocaleTimeString(\"de-DE\", {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\",\n                    })}{\" \"}\n                    (spätestens 22:00 Uhr)\n                </small>\n            )}\n\n            {/* Błędy */}\n            {formError && (\n                <p data-cy=\"form-error\" style={{ color: \"#c62828\", marginTop: 10 }}>\n                    {formError}\n                </p>\n            )}\n\n            <button\n                type=\"submit\"\n                style={{ marginTop: 12 }}\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                Reservieren\n            </button>\n        </form>\n    );\n}\n\nexport default ReservationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}