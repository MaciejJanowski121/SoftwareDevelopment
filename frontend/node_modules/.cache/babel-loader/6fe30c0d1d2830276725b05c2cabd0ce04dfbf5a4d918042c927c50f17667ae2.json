{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useMemo, useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n/** ---- Helpery ---- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pad = n => n < 10 ? `0${n}` : `${n}`;\nconst toIsoWithSeconds = d => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\nconst buildStart = (dateStr, hh, mm) => dateStr && hh != null && mm != null ? new Date(`${dateStr}T${pad(+hh)}:${pad(+mm)}:00`) : null;\nconst maxMinutesForStart = (start, closeHour, maxMin) => {\n  if (!start) return maxMin;\n  const latestEnd = new Date(start);\n  latestEnd.setHours(closeHour, 0, 0, 0);\n  const diffMin = Math.floor((latestEnd - start) / 60000);\n  if (diffMin <= 0) return 0;\n  return Math.min(maxMin, diffMin);\n};\n\n/** ---- Hook do pobierania dostępnych stolików ---- */\nfunction useAvailableTables({\n  api,\n  start,\n  minutes\n}) {\n  _s();\n  const [tables, setTables] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const lastKeyRef = useRef(\"\");\n  useEffect(() => {\n    const key = start && minutes ? `${start.getTime()}|${minutes}` : \"\";\n    if (key === lastKeyRef.current) return;\n    lastKeyRef.current = key;\n    if (!start || !minutes) {\n      setTables([]);\n      return;\n    }\n    const ctrl = new AbortController();\n    const t = setTimeout(async () => {\n      setLoading(true);\n      setErr(\"\");\n      try {\n        const iso = toIsoWithSeconds(start);\n        const res = await fetch(`${api}/api/reservations/available?start=${encodeURIComponent(iso)}&minutes=${minutes}`, {\n          credentials: \"include\",\n          signal: ctrl.signal\n        });\n        if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n        const data = await res.json();\n        setTables(Array.isArray(data) ? data : []);\n      } catch (e) {\n        if (e.name !== \"AbortError\") setErr(e.message || \"Fehler beim Laden.\");\n      } finally {\n        setLoading(false);\n      }\n    }, 350);\n    return () => {\n      clearTimeout(t);\n      ctrl.abort();\n    };\n  }, [api, start === null || start === void 0 ? void 0 : start.getTime(), minutes]);\n  return {\n    tables,\n    loading,\n    error: err\n  };\n}\n\n/** ---- Główny formularz ---- */\n_s(useAvailableTables, \"kaaUy4vPvElXlO93BLLzovawGOw=\");\nexport default function ReservationForm({\n  setReservation\n}) {\n  _s2();\n  const MIN_MIN = 30;\n  const MAX_MIN = 300;\n  const OPEN_HOUR = 12;\n  const CLOSE_HOUR = 22; // lokal zamyka się o 22:00\n\n  const navigate = useNavigate();\n  const API = useMemo(() => process.env.REACT_APP_API_URL || \"http://localhost:8080\", []);\n  const [dateStr, setDateStr] = useState(() => {\n    const d = new Date();\n    return d.toISOString().slice(0, 10);\n  });\n  const [hm, setHM] = useState({\n    hour: \"18\",\n    minute: \"00\"\n  });\n  const [duration, setDuration] = useState(120);\n  const [tableNumber, setTableNumber] = useState(\"\");\n  const [formError, setFormError] = useState(\"\");\n  useEffect(() => {\n    if (Number(hm.hour) >= CLOSE_HOUR && hm.minute !== \"00\") {\n      setHM(p => ({\n        ...p,\n        minute: \"00\"\n      }));\n    }\n  }, [hm.hour]);\n  const start = useMemo(() => buildStart(dateStr, hm.hour, hm.minute), [dateStr, hm]);\n  const maxAllowed = useMemo(() => maxMinutesForStart(start, CLOSE_HOUR, MAX_MIN), [start]);\n  const end = useMemo(() => start ? new Date(start.getTime() + duration * 60000) : null, [start, duration]);\n  const {\n    tables: availableTables,\n    loading: availLoading,\n    error: availError\n  } = useAvailableTables({\n    api: API,\n    start,\n    minutes: duration\n  });\n  useEffect(() => {\n    if (!tableNumber) return;\n    if (!availableTables.some(t => String(t.tableNumber) === String(tableNumber))) {\n      setTableNumber(\"\");\n    }\n  }, [availableTables, tableNumber]);\n  function validate() {\n    if (!start) return \"Bitte Startzeit auswählen.\";\n    if (start < new Date()) return \"Reservierungen in der Vergangenheit sind nicht möglich.\";\n    if (duration < MIN_MIN || duration > MAX_MIN) return \"Die Dauer muss zwischen 30 und 300 Minuten liegen.\";\n    if (maxAllowed < MIN_MIN) return \"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\";\n    if (duration > maxAllowed) return `Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`;\n    if (!tableNumber) return \"Bitte Tisch auswählen.\";\n    return null;\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setFormError(\"\");\n    const err = validate();\n    if (err) return setFormError(err);\n    const payload = {\n      tableNumber: Number(tableNumber),\n      startTime: toIsoWithSeconds(start),\n      endTime: toIsoWithSeconds(end)\n    };\n    try {\n      const resp = await fetch(`${API}/api/reservations`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      });\n      const txt = await resp.text();\n      if (!resp.ok) throw new Error(txt || \"Reservierung fehlgeschlagen.\");\n      const data = txt ? JSON.parse(txt) : null;\n      setReservation([data]);\n      navigate(\"/reservations/my\");\n    } catch (e) {\n      setFormError(`Reservierung fehlgeschlagen: ${e.message}`);\n    }\n  }\n  const todayStr = useMemo(() => new Date().toISOString().slice(0, 10), []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"reservation-form\",\n    noValidate: true,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"date\",\n      style: {\n        display: \"block\",\n        marginBottom: 4\n      },\n      children: \"Datum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"date\",\n      type: \"date\",\n      value: dateStr,\n      min: todayStr,\n      onChange: e => {\n        setDateStr(e.target.value);\n        setFormError(\"\");\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Uhrzeit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tp-inline\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tp-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"tp-btn\",\n          onClick: () => setHM(p => ({\n            ...p,\n            hour: String(Math.max(Number(p.hour) - 1, OPEN_HOUR))\n          })),\n          \"aria-label\": \"Hour down\",\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tp-value\",\n          \"aria-label\": \"Hour\",\n          children: pad(Number(hm.hour))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"tp-btn\",\n          onClick: () => setHM(p => ({\n            ...p,\n            hour: String(Math.min(Number(p.hour) + 1, CLOSE_HOUR - 1))\n          })),\n          \"aria-label\": \"Hour up\",\n          children: \"\\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tp-sep\",\n        children: \":\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tp-field\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"tp-select\",\n          value: hm.minute,\n          onChange: e => setHM(p => ({\n            ...p,\n            minute: e.target.value\n          })),\n          \"aria-label\": \"Minute\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"00\",\n            children: \"00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"30\",\n            children: \"30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 4,\n        color: \"#555\"\n      },\n      children: [\"Schritte: 30 Minuten, letzte Startzeit \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"21:30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 56\n      }, this), \" (Ende sp\\xE4testens 22:00).\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startTime\",\n      type: \"hidden\",\n      value: start ? `${dateStr}T${pad(+hm.hour)}:${pad(+hm.minute)}` : \"\",\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"duration\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Dauer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"duration\",\n      value: duration,\n      onChange: e => {\n        setDuration(Number(e.target.value));\n        setFormError(\"\");\n      },\n      required: true,\n      children: Array.from({\n        length: (MAX_MIN - MIN_MIN) / 30 + 1\n      }, (_, i) => {\n        const m = MIN_MIN + i * 30;\n        const disabled = start && m > maxAllowed;\n        const label = m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: m,\n          disabled: disabled,\n          children: [label, disabled ? \" (bis 22:00 Uhr)\" : \"\"]\n        }, m, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"tableNumber\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Tisch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"tableNumber\",\n      value: tableNumber,\n      onChange: e => setTableNumber(e.target.value),\n      required: true,\n      disabled: maxAllowed < MIN_MIN || availLoading,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: availLoading ? \"Lade…\" : \"Tisch auswählen…\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }, this), availableTables.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t.tableNumber,\n        children: [\"Tisch \", t.tableNumber, \" (\", t.numberOfSeats, \" Pers.)\"]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this), availError && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        color: \"#b71c1c\"\n      },\n      children: availError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 28\n    }, this), end && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 6,\n        color: \"#555\"\n      },\n      children: [\"Ende:\", \" \", end.toLocaleTimeString(\"de-DE\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }), \" \", \"(sp\\xE4testens 22:00 Uhr)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-cy\": \"form-error\",\n      style: {\n        color: \"#c62828\",\n        marginTop: 10\n      },\n      children: formError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginTop: 12\n      },\n      disabled: maxAllowed < MIN_MIN,\n      children: \"Reservieren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          .tp-inline { display:flex; align-items:center; gap:8px; }\n          .tp-field { display:flex; align-items:center; gap:6px; }\n          .tp-btn {\n            width:28px; height:28px; line-height:28px;\n            border:1px solid #ccc; border-radius:6px;\n            background:#fafafa; cursor:pointer; font-size:14px; padding:0;\n          }\n          .tp-btn:active { transform: translateY(1px); }\n          .tp-value {\n            min-width:36px; text-align:center; font-variant-numeric: tabular-nums;\n            padding:4px 6px; border:1px solid #ddd; border-radius:6px; background:#fff;\n          }\n          .tp-sep { opacity:0.7; }\n          .tp-select {\n            height:30px; border:1px solid #ddd; border-radius:6px; padding:0 6px;\n            background:#fff; font-size:14px; appearance:auto;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n}\n_s2(ReservationForm, \"i2sqzmtUpl8y8oiAH3lclqxvECI=\", false, function () {\n  return [useNavigate, useAvailableTables];\n});\n_c = ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["useMemo","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","pad","n","toIsoWithSeconds","d","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","buildStart","dateStr","hh","mm","Date","maxMinutesForStart","start","closeHour","maxMin","latestEnd","setHours","diffMin","Math","floor","min","useAvailableTables","api","minutes","_s","tables","setTables","loading","setLoading","err","setErr","lastKeyRef","key","getTime","current","ctrl","AbortController","t","setTimeout","iso","res","fetch","encodeURIComponent","credentials","signal","ok","Error","data","json","Array","isArray","e","name","message","clearTimeout","abort","error","ReservationForm","setReservation","_s2","MIN_MIN","MAX_MIN","OPEN_HOUR","CLOSE_HOUR","navigate","API","process","env","REACT_APP_API_URL","setDateStr","toISOString","slice","hm","setHM","hour","minute","duration","setDuration","tableNumber","setTableNumber","formError","setFormError","Number","p","maxAllowed","end","availableTables","availLoading","availError","some","String","validate","handleSubmit","preventDefault","payload","startTime","endTime","resp","method","headers","body","JSON","stringify","txt","text","parse","todayStr","onSubmit","className","noValidate","children","htmlFor","style","display","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","id","type","value","onChange","target","required","margin","onClick","max","marginTop","color","readOnly","from","length","_","i","m","disabled","label","map","numberOfSeats","toLocaleTimeString","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx"],"sourcesContent":["import { useMemo, useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n/** ---- Helpery ---- */\nconst pad = (n) => (n < 10 ? `0${n}` : `${n}`);\nconst toIsoWithSeconds = (d) =>\n    `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(\n        d.getHours()\n    )}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;\nconst buildStart = (dateStr, hh, mm) =>\n    dateStr && hh != null && mm != null\n        ? new Date(`${dateStr}T${pad(+hh)}:${pad(+mm)}:00`)\n        : null;\nconst maxMinutesForStart = (start, closeHour, maxMin) => {\n    if (!start) return maxMin;\n    const latestEnd = new Date(start);\n    latestEnd.setHours(closeHour, 0, 0, 0);\n    const diffMin = Math.floor((latestEnd - start) / 60000);\n    if (diffMin <= 0) return 0;\n    return Math.min(maxMin, diffMin);\n};\n\n/** ---- Hook do pobierania dostępnych stolików ---- */\nfunction useAvailableTables({ api, start, minutes }) {\n    const [tables, setTables] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [err, setErr] = useState(\"\");\n    const lastKeyRef = useRef(\"\");\n\n    useEffect(() => {\n        const key = start && minutes ? `${start.getTime()}|${minutes}` : \"\";\n        if (key === lastKeyRef.current) return;\n        lastKeyRef.current = key;\n\n        if (!start || !minutes) {\n            setTables([]);\n            return;\n        }\n\n        const ctrl = new AbortController();\n        const t = setTimeout(async () => {\n            setLoading(true);\n            setErr(\"\");\n            try {\n                const iso = toIsoWithSeconds(start);\n                const res = await fetch(\n                    `${api}/api/reservations/available?start=${encodeURIComponent(\n                        iso\n                    )}&minutes=${minutes}`,\n                    { credentials: \"include\", signal: ctrl.signal }\n                );\n                if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n                const data = await res.json();\n                setTables(Array.isArray(data) ? data : []);\n            } catch (e) {\n                if (e.name !== \"AbortError\") setErr(e.message || \"Fehler beim Laden.\");\n            } finally {\n                setLoading(false);\n            }\n        }, 350);\n\n        return () => {\n            clearTimeout(t);\n            ctrl.abort();\n        };\n    }, [api, start?.getTime(), minutes]);\n\n    return { tables, loading, error: err };\n}\n\n/** ---- Główny formularz ---- */\nexport default function ReservationForm({ setReservation }) {\n    const MIN_MIN = 30;\n    const MAX_MIN = 300;\n    const OPEN_HOUR = 12;\n    const CLOSE_HOUR = 22; // lokal zamyka się o 22:00\n\n    const navigate = useNavigate();\n    const API = useMemo(\n        () => process.env.REACT_APP_API_URL || \"http://localhost:8080\",\n        []\n    );\n\n    const [dateStr, setDateStr] = useState(() => {\n        const d = new Date();\n        return d.toISOString().slice(0, 10);\n    });\n    const [hm, setHM] = useState({ hour: \"18\", minute: \"00\" });\n    const [duration, setDuration] = useState(120);\n    const [tableNumber, setTableNumber] = useState(\"\");\n    const [formError, setFormError] = useState(\"\");\n\n    useEffect(() => {\n        if (Number(hm.hour) >= CLOSE_HOUR && hm.minute !== \"00\") {\n            setHM((p) => ({ ...p, minute: \"00\" }));\n        }\n    }, [hm.hour]);\n\n    const start = useMemo(() => buildStart(dateStr, hm.hour, hm.minute), [dateStr, hm]);\n    const maxAllowed = useMemo(\n        () => maxMinutesForStart(start, CLOSE_HOUR, MAX_MIN),\n        [start]\n    );\n    const end = useMemo(\n        () => (start ? new Date(start.getTime() + duration * 60000) : null),\n        [start, duration]\n    );\n\n    const { tables: availableTables, loading: availLoading, error: availError } =\n        useAvailableTables({ api: API, start, minutes: duration });\n\n    useEffect(() => {\n        if (!tableNumber) return;\n        if (!availableTables.some((t) => String(t.tableNumber) === String(tableNumber))) {\n            setTableNumber(\"\");\n        }\n    }, [availableTables, tableNumber]);\n\n    function validate() {\n        if (!start) return \"Bitte Startzeit auswählen.\";\n        if (start < new Date())\n            return \"Reservierungen in der Vergangenheit sind nicht möglich.\";\n        if (duration < MIN_MIN || duration > MAX_MIN)\n            return \"Die Dauer muss zwischen 30 und 300 Minuten liegen.\";\n        if (maxAllowed < MIN_MIN)\n            return \"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\";\n        if (duration > maxAllowed)\n            return `Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`;\n        if (!tableNumber) return \"Bitte Tisch auswählen.\";\n        return null;\n    }\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        setFormError(\"\");\n        const err = validate();\n        if (err) return setFormError(err);\n\n        const payload = {\n            tableNumber: Number(tableNumber),\n            startTime: toIsoWithSeconds(start),\n            endTime: toIsoWithSeconds(end),\n        };\n\n        try {\n            const resp = await fetch(`${API}/api/reservations`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify(payload),\n            });\n            const txt = await resp.text();\n            if (!resp.ok) throw new Error(txt || \"Reservierung fehlgeschlagen.\");\n\n            const data = txt ? JSON.parse(txt) : null;\n            setReservation([data]);\n            navigate(\"/reservations/my\");\n        } catch (e) {\n            setFormError(`Reservierung fehlgeschlagen: ${e.message}`);\n        }\n    }\n\n    const todayStr = useMemo(() => new Date().toISOString().slice(0, 10), []);\n\n    return (\n        <form onSubmit={handleSubmit} className=\"reservation-form\" noValidate>\n            {/* Data */}\n            <label htmlFor=\"date\" style={{ display: \"block\", marginBottom: 4 }}>\n                Datum\n            </label>\n            <input\n                id=\"date\"\n                type=\"date\"\n                value={dateStr}\n                min={todayStr}\n                onChange={(e) => {\n                    setDateStr(e.target.value);\n                    setFormError(\"\");\n                }}\n                required\n            />\n\n            {/* Czas inline */}\n            <label style={{ display: \"block\", margin: \"12px 0 4px\" }}>Uhrzeit</label>\n            <div className=\"tp-inline\">\n                <div className=\"tp-field\">\n                    <button\n                        type=\"button\"\n                        className=\"tp-btn\"\n                        onClick={() =>\n                            setHM((p) => ({\n                                ...p,\n                                hour: String(Math.max(Number(p.hour) - 1, OPEN_HOUR)),\n                            }))\n                        }\n                        aria-label=\"Hour down\"\n                    >\n                        ‹\n                    </button>\n                    <div className=\"tp-value\" aria-label=\"Hour\">\n                        {pad(Number(hm.hour))}\n                    </div>\n                    <button\n                        type=\"button\"\n                        className=\"tp-btn\"\n                        onClick={() =>\n                            setHM((p) => ({\n                                ...p,\n                                hour: String(Math.min(Number(p.hour) + 1, CLOSE_HOUR - 1)),\n                            }))\n                        }\n                        aria-label=\"Hour up\"\n                    >\n                        ›\n                    </button>\n                </div>\n\n                <div className=\"tp-sep\">:</div>\n\n                <div className=\"tp-field\">\n                    <select\n                        className=\"tp-select\"\n                        value={hm.minute}\n                        onChange={(e) => setHM((p) => ({ ...p, minute: e.target.value }))}\n                        aria-label=\"Minute\"\n                    >\n                        <option value=\"00\">00</option>\n                        <option value=\"30\">30</option>\n                    </select>\n                </div>\n            </div>\n            <small style={{ display: \"block\", marginTop: 4, color: \"#555\" }}>\n                Schritte: 30 Minuten, letzte Startzeit <strong>21:30</strong> (Ende spätestens 22:00).\n            </small>\n\n            <input\n                id=\"startTime\"\n                type=\"hidden\"\n                value={start ? `${dateStr}T${pad(+hm.hour)}:${pad(+hm.minute)}` : \"\"}\n                readOnly\n            />\n\n            {/* Czas trwania */}\n            <label htmlFor=\"duration\" style={{ display: \"block\", margin: \"12px 0 4px\" }}>\n                Dauer\n            </label>\n            <select\n                id=\"duration\"\n                value={duration}\n                onChange={(e) => {\n                    setDuration(Number(e.target.value));\n                    setFormError(\"\");\n                }}\n                required\n            >\n                {Array.from({ length: (MAX_MIN - MIN_MIN) / 30 + 1 }, (_, i) => {\n                    const m = MIN_MIN + i * 30;\n                    const disabled = start && m > maxAllowed;\n                    const label =\n                        m < 60\n                            ? `${m} Min`\n                            : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n                    return (\n                        <option key={m} value={m} disabled={disabled}>\n                            {label}\n                            {disabled ? \" (bis 22:00 Uhr)\" : \"\"}\n                        </option>\n                    );\n                })}\n            </select>\n\n            {/* Stoliki */}\n            <label htmlFor=\"tableNumber\" style={{ display: \"block\", margin: \"12px 0 4px\" }}>\n                Tisch\n            </label>\n            <select\n                id=\"tableNumber\"\n                value={tableNumber}\n                onChange={(e) => setTableNumber(e.target.value)}\n                required\n                disabled={maxAllowed < MIN_MIN || availLoading}\n            >\n                <option value=\"\">{availLoading ? \"Lade…\" : \"Tisch auswählen…\"}</option>\n                {availableTables.map((t) => (\n                    <option key={t.id} value={t.tableNumber}>\n                        Tisch {t.tableNumber} ({t.numberOfSeats} Pers.)\n                    </option>\n                ))}\n            </select>\n            {availError && <small style={{ color: \"#b71c1c\" }}>{availError}</small>}\n\n            {end && (\n                <small style={{ display: \"block\", marginTop: 6, color: \"#555\" }}>\n                    Ende:{\" \"}\n                    {end.toLocaleTimeString(\"de-DE\", {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\",\n                    })}{\" \"}\n                    (spätestens 22:00 Uhr)\n                </small>\n            )}\n\n            {formError && (\n                <p data-cy=\"form-error\" style={{ color: \"#c62828\", marginTop: 10 }}>\n                    {formError}\n                </p>\n            )}\n\n            <button type=\"submit\" style={{ marginTop: 12 }} disabled={maxAllowed < MIN_MIN}>\n                Reservieren\n            </button>\n\n            {/* Mały inline styl dla strzałek */}\n            <style>\n                {`\n          .tp-inline { display:flex; align-items:center; gap:8px; }\n          .tp-field { display:flex; align-items:center; gap:6px; }\n          .tp-btn {\n            width:28px; height:28px; line-height:28px;\n            border:1px solid #ccc; border-radius:6px;\n            background:#fafafa; cursor:pointer; font-size:14px; padding:0;\n          }\n          .tp-btn:active { transform: translateY(1px); }\n          .tp-value {\n            min-width:36px; text-align:center; font-variant-numeric: tabular-nums;\n            padding:4px 6px; border:1px solid #ddd; border-radius:6px; background:#fff;\n          }\n          .tp-sep { opacity:0.7; }\n          .tp-select {\n            height:30px; border:1px solid #ddd; border-radius:6px; padding:0 6px;\n            background:#fff; font-size:14px; appearance:auto;\n          }\n        `}\n            </style>\n        </form>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}