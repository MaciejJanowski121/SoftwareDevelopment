{"ast":null,"code":"var _jsxFileName = \"/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationForm({\n  setReservation\n}) {\n  _s();\n  const [startDatePart, setStartDatePart] = useState(\"\");\n  const [hour, setHour] = useState(\"12\");\n  const [minute, setMinute] = useState(\"00\");\n  const [minutes, setMinutes] = useState(120); // 30..300\n  const [tableNumber, setTableNumber] = useState(\"\");\n  const [availableTables, setAvailableTables] = useState([]);\n  const [formError, setFormError] = useState(\"\");\n  const navigate = useNavigate();\n  const API = useMemo(() => process.env.REACT_APP_API_URL || \"http://localhost:8080\", []);\n\n  // reguły\n  const MIN_MIN = 30;\n  const MAX_MIN = 300;\n  const OPENING_HOUR = 12;\n  const CLOSING_HOUR = 22;\n\n  // utils\n  const pad = n => n < 10 ? \"0\" + n : \"\" + n;\n  const todayDateStr = useMemo(() => {\n    const d = new Date();\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\n  }, []);\n  const toIsoWithSeconds = date => `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}T${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())}`;\n\n  // sklejka dla hidden #startTime (Cypress)\n  const startTimePart = `${pad(Number(hour))}:${pad(Number(minute))}`;\n  const buildStartDate = (date, hh, mm) => date ? new Date(`${date}T${pad(Number(hh))}:${pad(Number(mm))}:00`) : null;\n  const startDateObj = buildStartDate(startDatePart, hour, minute);\n\n  // max. do 22:00\n  const maxMinutesForStart = start => {\n    if (!start) return MAX_MIN;\n    const latestEnd = new Date(start);\n    latestEnd.setHours(CLOSING_HOUR, 0, 0, 0);\n    const diffMin = Math.floor((latestEnd - start) / 60000);\n    if (diffMin <= 0) return 0;\n    return Math.min(MAX_MIN, diffMin);\n  };\n  const maxAllowedForHint = maxMinutesForStart(startDateObj);\n  const endPreview = startDateObj && minutes ? new Date(startDateObj.getTime() + minutes * 60000) : null;\n\n  // domyśl: data + sensowna godzina w oknie 12–22, krok 30 min\n  useEffect(() => {\n    const now = new Date();\n    const todayStr = `${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(now.getDate())}`;\n    if (!startDatePart) setStartDatePart(todayStr);\n\n    // wyznacz godzinę startową:\n    let h = now.getHours();\n    let m = now.getMinutes() < 30 ? 30 : 0;\n\n    // zaokrąglenie do 00/30 (i ewentualne podbicie godziny)\n    if (m === 0 && now.getMinutes() >= 30) h++;\n\n    // wymuś widełki 12..22 (jeśli po 22 -> następny dzień 12:00)\n    if (h < OPENING_HOUR) {\n      h = OPENING_HOUR;\n      m = 0;\n    } else if (h > CLOSING_HOUR || h === CLOSING_HOUR && m > 0) {\n      // przeskocz na jutro 12:00\n      const tomorrow = new Date(now);\n      tomorrow.setDate(now.getDate() + 1);\n      const nextStr = `${tomorrow.getFullYear()}-${pad(tomorrow.getMonth() + 1)}-${pad(tomorrow.getDate())}`;\n      setStartDatePart(nextStr);\n      h = OPENING_HOUR;\n      m = 0;\n    }\n    setHour(String(h));\n    setMinute(h === CLOSING_HOUR ? \"00\" : pad(m));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // jeżeli ktoś wybierze 22, minuty mogą być tylko 00\n  useEffect(() => {\n    if (Number(hour) === CLOSING_HOUR) setMinute(\"00\");\n  }, [hour]);\n\n  // pobranie wolnych stołów\n  useEffect(() => {\n    const fetchAvailable = async () => {\n      setFormError(\"\");\n      if (!startDateObj || !minutes) {\n        setAvailableTables([]);\n        return;\n      }\n      const maxAllowed = maxMinutesForStart(startDateObj);\n      if (maxAllowed < MIN_MIN) {\n        setAvailableTables([]);\n        return;\n      }\n      const startISO = toIsoWithSeconds(startDateObj);\n      try {\n        const res = await fetch(`${API}/api/reservations/available?start=${encodeURIComponent(startISO)}&minutes=${minutes}`, {\n          credentials: \"include\"\n        });\n        if (!res.ok) throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n        const data = await res.json();\n        setAvailableTables(Array.isArray(data) ? data : []);\n      } catch (e) {\n        console.error(e);\n        setAvailableTables([]);\n      }\n    };\n    fetchAvailable();\n  }, [API, minutes, startDateObj]);\n\n  // zrzuć wybrany stolik, jeśli zniknął z listy\n  useEffect(() => {\n    if (!tableNumber) return;\n    const stillAvail = availableTables.some(t => String(t.tableNumber) === String(tableNumber));\n    if (!stillAvail) setTableNumber(\"\");\n  }, [availableTables, tableNumber]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormError(\"\");\n    if (!startDateObj) return setFormError(\"Bitte Startzeit auswählen.\");\n\n    // widełki 12..22 (zabezpieczenie gdyby ktoś manipulował DOM)\n    const h = startDateObj.getHours();\n    const mm = startDateObj.getMinutes();\n    if (h < OPENING_HOUR || h > CLOSING_HOUR || h === CLOSING_HOUR && mm > 0) {\n      return setFormError(\"Reservierungen sind nur zwischen 12:00 und 22:00 möglich.\");\n    }\n    if (startDateObj < new Date()) {\n      return setFormError(\"Reservierungen in der Vergangenheit sind nicht möglich.\");\n    }\n    if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN) {\n      return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n    }\n    const maxAllowed = maxMinutesForStart(startDateObj);\n    if (minutes > maxAllowed) {\n      if (maxAllowed < MIN_MIN) {\n        return setFormError(\"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\");\n      }\n      return setFormError(`Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`);\n    }\n    if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n    const end = new Date(startDateObj.getTime() + minutes * 60000);\n    const payload = {\n      tableNumber: Number(tableNumber),\n      startTime: toIsoWithSeconds(startDateObj),\n      endTime: toIsoWithSeconds(end)\n    };\n    try {\n      const resp = await fetch(`${API}/api/reservations`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify(payload)\n      });\n      const txt = await resp.text();\n      if (!resp.ok) throw new Error(txt || \"Reservierung fehlgeschlagen.\");\n      const data = txt ? JSON.parse(txt) : null;\n      setReservation([data]);\n      navigate(\"/reservations/my\");\n    } catch (err) {\n      console.error(err);\n      setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"reservation-form\",\n    noValidate: true,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"startDate\",\n      style: {\n        display: \"block\",\n        marginBottom: 4\n      },\n      children: \"Datum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startDate\",\n      type: \"date\",\n      value: startDatePart,\n      min: todayDateStr,\n      onChange: e => {\n        setStartDatePart(e.target.value);\n        setFormError(\"\");\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Uhrzeit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"hour\",\n        value: hour,\n        onChange: e => setHour(e.target.value),\n        \"aria-label\": \"Stunde\",\n        children: Array.from({\n          length: CLOSING_HOUR - OPENING_HOUR + 1\n        }, (_, i) => OPENING_HOUR + i).map(h => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: String(h),\n          children: pad(h)\n        }, h, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"minute\",\n        value: minute,\n        onChange: e => setMinute(e.target.value),\n        \"aria-label\": \"Minute\",\n        disabled: Number(hour) === CLOSING_HOUR,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"00\",\n          children: \"00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"30\",\n          children: \"30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 4,\n        color: \"#555\"\n      },\n      children: [\"\\xD6ffnungszeiten: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"12:00\\u201322:00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 33\n      }, this), \". F\\xFCr 22:00 sind nur Minuten\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), \" erlaubt.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startTime\",\n      type: \"hidden\",\n      value: startDatePart ? `${startDatePart}T${startTimePart}` : \"\",\n      readOnly: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"duration\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Dauer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"duration\",\n      value: minutes,\n      onChange: e => {\n        setMinutes(Number(e.target.value));\n        setFormError(\"\");\n      },\n      required: true,\n      children: Array.from({\n        length: (MAX_MIN - MIN_MIN) / 30 + 1\n      }, (_, i) => {\n        const m = MIN_MIN + i * 30;\n        const disabled = !!startDateObj && m > maxMinutesForStart(startDateObj);\n        const label = m < 60 ? `${m} Min` : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: m,\n          disabled: disabled,\n          children: [label, disabled ? \" (bis 22:00 Uhr)\" : \"\"]\n        }, m, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"tableNumber\",\n      style: {\n        display: \"block\",\n        margin: \"12px 0 4px\"\n      },\n      children: \"Tisch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"tableNumber\",\n      value: tableNumber,\n      onChange: e => setTableNumber(e.target.value),\n      required: true,\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Tisch ausw\\xE4hlen\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }, this), availableTables.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t.tableNumber,\n        children: [\"Tisch \", t.tableNumber, \" (\", t.numberOfSeats, \" Pers.)\"]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }, this), endPreview && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        display: \"block\",\n        marginTop: 6,\n        color: \"#555\"\n      },\n      children: [\"Ende:\", \" \", endPreview.toLocaleTimeString(\"de-DE\", {\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n      }), \" \", \"(sp\\xE4testens 22:00 Uhr)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-cy\": \"form-error\",\n      style: {\n        color: \"#c62828\",\n        marginTop: 10\n      },\n      children: formError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      style: {\n        marginTop: 12\n      },\n      disabled: maxAllowedForHint < MIN_MIN,\n      children: \"Reservieren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationForm, \"rtWfC1cSuaL/Ez2YiwsVtxK+6As=\", false, function () {\n  return [useNavigate];\n});\n_c = ReservationForm;\nexport default ReservationForm;\nvar _c;\n$RefreshReg$(_c, \"ReservationForm\");","map":{"version":3,"names":["useState","useEffect","useMemo","useNavigate","jsxDEV","_jsxDEV","ReservationForm","setReservation","_s","startDatePart","setStartDatePart","hour","setHour","minute","setMinute","minutes","setMinutes","tableNumber","setTableNumber","availableTables","setAvailableTables","formError","setFormError","navigate","API","process","env","REACT_APP_API_URL","MIN_MIN","MAX_MIN","OPENING_HOUR","CLOSING_HOUR","pad","n","todayDateStr","d","Date","getFullYear","getMonth","getDate","toIsoWithSeconds","date","getHours","getMinutes","getSeconds","startTimePart","Number","buildStartDate","hh","mm","startDateObj","maxMinutesForStart","start","latestEnd","setHours","diffMin","Math","floor","min","maxAllowedForHint","endPreview","getTime","now","todayStr","h","m","tomorrow","setDate","nextStr","String","fetchAvailable","maxAllowed","startISO","res","fetch","encodeURIComponent","credentials","ok","Error","data","json","Array","isArray","e","console","error","stillAvail","some","t","handleSubmit","preventDefault","end","payload","startTime","endTime","resp","method","headers","body","JSON","stringify","txt","text","parse","err","message","onSubmit","className","noValidate","children","htmlFor","style","display","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","id","type","value","onChange","target","required","margin","gap","from","length","_","i","map","disabled","marginTop","color","readOnly","label","numberOfSeats","toLocaleTimeString","_c","$RefreshReg$"],"sources":["/Users/maciejjanowski/Desktop/reservationSystem/frontend/src/components/ReservationForm.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ReservationForm({ setReservation }) {\n    const [startDatePart, setStartDatePart] = useState(\"\");\n    const [hour, setHour] = useState(\"12\");\n    const [minute, setMinute] = useState(\"00\");\n    const [minutes, setMinutes] = useState(120); // 30..300\n    const [tableNumber, setTableNumber] = useState(\"\");\n    const [availableTables, setAvailableTables] = useState([]);\n    const [formError, setFormError] = useState(\"\");\n\n    const navigate = useNavigate();\n    const API = useMemo(\n        () => process.env.REACT_APP_API_URL || \"http://localhost:8080\",\n        []\n    );\n\n    // reguły\n    const MIN_MIN = 30;\n    const MAX_MIN = 300;\n    const OPENING_HOUR = 12;\n    const CLOSING_HOUR = 22;\n\n    // utils\n    const pad = (n) => (n < 10 ? \"0\" + n : \"\" + n);\n    const todayDateStr = useMemo(() => {\n        const d = new Date();\n        return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\n    }, []);\n    const toIsoWithSeconds = (date) =>\n        `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(\n            date.getDate()\n        )}T${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(\n            date.getSeconds()\n        )}`;\n\n    // sklejka dla hidden #startTime (Cypress)\n    const startTimePart = `${pad(Number(hour))}:${pad(Number(minute))}`;\n    const buildStartDate = (date, hh, mm) =>\n        date ? new Date(`${date}T${pad(Number(hh))}:${pad(Number(mm))}:00`) : null;\n\n    const startDateObj = buildStartDate(startDatePart, hour, minute);\n\n    // max. do 22:00\n    const maxMinutesForStart = (start) => {\n        if (!start) return MAX_MIN;\n        const latestEnd = new Date(start);\n        latestEnd.setHours(CLOSING_HOUR, 0, 0, 0);\n        const diffMin = Math.floor((latestEnd - start) / 60000);\n        if (diffMin <= 0) return 0;\n        return Math.min(MAX_MIN, diffMin);\n    };\n\n    const maxAllowedForHint = maxMinutesForStart(startDateObj);\n    const endPreview =\n        startDateObj && minutes\n            ? new Date(startDateObj.getTime() + minutes * 60000)\n            : null;\n\n    // domyśl: data + sensowna godzina w oknie 12–22, krok 30 min\n    useEffect(() => {\n        const now = new Date();\n        const todayStr = `${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(\n            now.getDate()\n        )}`;\n        if (!startDatePart) setStartDatePart(todayStr);\n\n        // wyznacz godzinę startową:\n        let h = now.getHours();\n        let m = now.getMinutes() < 30 ? 30 : 0;\n\n        // zaokrąglenie do 00/30 (i ewentualne podbicie godziny)\n        if (m === 0 && now.getMinutes() >= 30) h++;\n\n        // wymuś widełki 12..22 (jeśli po 22 -> następny dzień 12:00)\n        if (h < OPENING_HOUR) {\n            h = OPENING_HOUR;\n            m = 0;\n        } else if (h > CLOSING_HOUR || (h === CLOSING_HOUR && m > 0)) {\n            // przeskocz na jutro 12:00\n            const tomorrow = new Date(now);\n            tomorrow.setDate(now.getDate() + 1);\n            const nextStr = `${tomorrow.getFullYear()}-${pad(\n                tomorrow.getMonth() + 1\n            )}-${pad(tomorrow.getDate())}`;\n            setStartDatePart(nextStr);\n            h = OPENING_HOUR;\n            m = 0;\n        }\n\n        setHour(String(h));\n        setMinute(h === CLOSING_HOUR ? \"00\" : pad(m));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // jeżeli ktoś wybierze 22, minuty mogą być tylko 00\n    useEffect(() => {\n        if (Number(hour) === CLOSING_HOUR) setMinute(\"00\");\n    }, [hour]);\n\n    // pobranie wolnych stołów\n    useEffect(() => {\n        const fetchAvailable = async () => {\n            setFormError(\"\");\n            if (!startDateObj || !minutes) {\n                setAvailableTables([]);\n                return;\n            }\n            const maxAllowed = maxMinutesForStart(startDateObj);\n            if (maxAllowed < MIN_MIN) {\n                setAvailableTables([]);\n                return;\n            }\n            const startISO = toIsoWithSeconds(startDateObj);\n            try {\n                const res = await fetch(\n                    `${API}/api/reservations/available?start=${encodeURIComponent(\n                        startISO\n                    )}&minutes=${minutes}`,\n                    { credentials: \"include\" }\n                );\n                if (!res.ok)\n                    throw new Error(\"Fehler beim Laden der verfügbaren Tische.\");\n                const data = await res.json();\n                setAvailableTables(Array.isArray(data) ? data : []);\n            } catch (e) {\n                console.error(e);\n                setAvailableTables([]);\n            }\n        };\n        fetchAvailable();\n    }, [API, minutes, startDateObj]);\n\n    // zrzuć wybrany stolik, jeśli zniknął z listy\n    useEffect(() => {\n        if (!tableNumber) return;\n        const stillAvail = availableTables.some(\n            (t) => String(t.tableNumber) === String(tableNumber)\n        );\n        if (!stillAvail) setTableNumber(\"\");\n    }, [availableTables, tableNumber]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setFormError(\"\");\n\n        if (!startDateObj) return setFormError(\"Bitte Startzeit auswählen.\");\n\n        // widełki 12..22 (zabezpieczenie gdyby ktoś manipulował DOM)\n        const h = startDateObj.getHours();\n        const mm = startDateObj.getMinutes();\n        if (h < OPENING_HOUR || h > CLOSING_HOUR || (h === CLOSING_HOUR && mm > 0)) {\n            return setFormError(\"Reservierungen sind nur zwischen 12:00 und 22:00 möglich.\");\n        }\n\n        if (startDateObj < new Date()) {\n            return setFormError(\n                \"Reservierungen in der Vergangenheit sind nicht möglich.\"\n            );\n        }\n\n        if (!minutes || minutes < MIN_MIN || minutes > MAX_MIN) {\n            return setFormError(\"Die Dauer muss zwischen 30 und 300 Minuten liegen.\");\n        }\n\n        const maxAllowed = maxMinutesForStart(startDateObj);\n        if (minutes > maxAllowed) {\n            if (maxAllowed < MIN_MIN) {\n                return setFormError(\n                    \"Die letzte Reservierung muss spätestens um 22:00 Uhr enden. Bitte frühere Zeit wählen.\"\n                );\n            }\n            return setFormError(\n                `Für diese Startzeit ist maximal ${maxAllowed} Minuten erlaubt (bis 22:00 Uhr).`\n            );\n        }\n\n        if (!tableNumber) return setFormError(\"Bitte Tisch auswählen.\");\n\n        const end = new Date(startDateObj.getTime() + minutes * 60000);\n\n        const payload = {\n            tableNumber: Number(tableNumber),\n            startTime: toIsoWithSeconds(startDateObj),\n            endTime: toIsoWithSeconds(end),\n        };\n\n        try {\n            const resp = await fetch(`${API}/api/reservations`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify(payload),\n            });\n            const txt = await resp.text();\n            if (!resp.ok) throw new Error(txt || \"Reservierung fehlgeschlagen.\");\n\n            const data = txt ? JSON.parse(txt) : null;\n            setReservation([data]);\n            navigate(\"/reservations/my\");\n        } catch (err) {\n            console.error(err);\n            setFormError(`Reservierung fehlgeschlagen: ${err.message}`);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit} className=\"reservation-form\" noValidate>\n            {/* Data */}\n            <label htmlFor=\"startDate\" style={{ display: \"block\", marginBottom: 4 }}>\n                Datum\n            </label>\n            <input\n                id=\"startDate\"\n                type=\"date\"\n                value={startDatePart}\n                min={todayDateStr}\n                onChange={(e) => {\n                    setStartDatePart(e.target.value);\n                    setFormError(\"\");\n                }}\n                required\n            />\n\n            {/* Godzina + Minuty */}\n            <label style={{ display: \"block\", margin: \"12px 0 4px\" }}>Uhrzeit</label>\n            <div style={{ display: \"flex\", gap: 8 }}>\n                <select\n                    id=\"hour\"\n                    value={hour}\n                    onChange={(e) => setHour(e.target.value)}\n                    aria-label=\"Stunde\"\n                >\n                    {Array.from(\n                        { length: CLOSING_HOUR - OPENING_HOUR + 1 },\n                        (_, i) => OPENING_HOUR + i\n                    ).map((h) => (\n                        <option key={h} value={String(h)}>\n                            {pad(h)}\n                        </option>\n                    ))}\n                </select>\n\n                <select\n                    id=\"minute\"\n                    value={minute}\n                    onChange={(e) => setMinute(e.target.value)}\n                    aria-label=\"Minute\"\n                    disabled={Number(hour) === CLOSING_HOUR}\n                >\n                    <option value=\"00\">00</option>\n                    <option value=\"30\">30</option>\n                </select>\n            </div>\n            <small style={{ display: \"block\", marginTop: 4, color: \"#555\" }}>\n                Öffnungszeiten: <strong>12:00–22:00</strong>. Für 22:00 sind nur Minuten{\" \"}\n                <strong>00</strong> erlaubt.\n            </small>\n\n            {/* Hidden #startTime – dla Cypressa */}\n            <input\n                id=\"startTime\"\n                type=\"hidden\"\n                value={startDatePart ? `${startDatePart}T${startTimePart}` : \"\"}\n                readOnly\n            />\n\n            {/* Dauer */}\n            <label\n                htmlFor=\"duration\"\n                style={{ display: \"block\", margin: \"12px 0 4px\" }}\n            >\n                Dauer\n            </label>\n            <select\n                id=\"duration\"\n                value={minutes}\n                onChange={(e) => {\n                    setMinutes(Number(e.target.value));\n                    setFormError(\"\");\n                }}\n                required\n            >\n                {Array.from({ length: (MAX_MIN - MIN_MIN) / 30 + 1 }, (_, i) => {\n                    const m = MIN_MIN + i * 30;\n                    const disabled =\n                        !!startDateObj && m > maxMinutesForStart(startDateObj);\n                    const label =\n                        m < 60\n                            ? `${m} Min`\n                            : `${Math.floor(m / 60)} Std${m % 60 ? ` ${m % 60} Min` : \"\"}`;\n                    return (\n                        <option key={m} value={m} disabled={disabled}>\n                            {label}\n                            {disabled ? \" (bis 22:00 Uhr)\" : \"\"}\n                        </option>\n                    );\n                })}\n            </select>\n\n            {/* Tische */}\n            <label\n                htmlFor=\"tableNumber\"\n                style={{ display: \"block\", margin: \"12px 0 4px\" }}\n            >\n                Tisch\n            </label>\n            <select\n                id=\"tableNumber\"\n                value={tableNumber}\n                onChange={(e) => setTableNumber(e.target.value)}\n                required\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                <option value=\"\">Tisch auswählen…</option>\n                {availableTables.map((t) => (\n                    <option key={t.id} value={t.tableNumber}>\n                        Tisch {t.tableNumber} ({t.numberOfSeats} Pers.)\n                    </option>\n                ))}\n            </select>\n\n            {/* Podgląd końca */}\n            {endPreview && (\n                <small style={{ display: \"block\", marginTop: 6, color: \"#555\" }}>\n                    Ende:{\" \"}\n                    {endPreview.toLocaleTimeString(\"de-DE\", {\n                        hour: \"2-digit\",\n                        minute: \"2-digit\",\n                    })}{\" \"}\n                    (spätestens 22:00 Uhr)\n                </small>\n            )}\n\n            {/* Błędy */}\n            {formError && (\n                <p data-cy=\"form-error\" style={{ color: \"#c62828\", marginTop: 10 }}>\n                    {formError}\n                </p>\n            )}\n\n            <button\n                type=\"submit\"\n                style={{ marginTop: 12 }}\n                disabled={maxAllowedForHint < MIN_MIN}\n            >\n                Reservieren\n            </button>\n        </form>\n    );\n}\n\nexport default ReservationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}